{"version":3,"file":"FilePicker.spec.js","sources":["../../../../src/UNSAFE_FilePicker/__tests__/FilePicker.spec.tsx"],"sourcesContent":["import { render, waitFor } from '@testing-library/preact';\nimport { expect } from 'chai';\nimport { FilePicker, TestHandlersRef, CommitDetail } from '../FilePicker';\nimport { matchTranslationBundle } from '../../utils/UNSAFE_matchTranslationBundle';\nimport { RootEnvironmentProvider } from '../../UNSAFE_Environment';\nimport type { RootEnvironment } from '../../UNSAFE_Environment';\nimport { createRef, ComponentProps } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport { getClientHints } from '../../utils/PRIVATE_clientHints';\nimport setupTabbableComponent from '../../utils/PRIVATE_dvtTestUtils/';\n\ntype filePickerProps = ComponentProps<typeof FilePicker>;\ndescribe('Test Filepicker component', () => {\n  it('render', async () => {\n    const content = await setupFilePicker({ accept: ['image/*'] });\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const classList = firstElement.classList;\n    expect(classList.length).equals(2);\n  });\n\n  it('Focus Blur', async () => {\n    const content = await setupFilePicker();\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    firstElement.focus();\n    let focusElement = document.activeElement;\n    expect(firstElement.contains(focusElement), 'FilePicker is in focus').equals(true);\n    firstElement.blur();\n    focusElement = document.activeElement;\n    expect(firstElement.contains(focusElement), 'FilePicker no longer in focus').not.equals(true);\n  });\n\n  //TODO: JET-53693 Focus not working in Preact Avatar\n\n  // it('Focus Blur Trigger Content', async () => {\n  //   const triggerContent = (\n  //     <div id=\"triggerContent\" tabIndex={0}>\n  //       This is the child content\n  //     </div>\n  //   );\n  //   const content = await setupFilePicker({ children: triggerContent });\n  //   const firstElement = content.container?.firstElementChild as HTMLElement;\n  //   firstElement.focus();\n  //   let focusElement = document.activeElement;\n  //   expect(focusElement?.getAttribute('id'), 'FilePicker trigger is in focus').equals('triggerContent');\n  //   expect(\n  //     firstElement.contains(focusElement) && firstElement !== focusElement,\n  //     'FilePicker is in focus'\n  //   ).equals(true);\n  //   firstElement.blur();\n  //   focusElement = document.activeElement;\n  //   expect(firstElement.contains(focusElement), 'FilePicker no longer in focus').not.equals(true);\n  // });\n\n  it('default value for isDisabled', async () => {\n    const content = await setupFilePicker();\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const elementClasses = firstElement.classList?.value;\n    expect(elementClasses).to.be.a('string').that.not.contains('oj-c-filepicker-disabled');\n  });\n\n  it('default value for primaryText', async () => {\n    const content = await setupFilePicker();\n    const primaryText = await content.findByText('Drag and Drop');\n    expect(primaryText).not.null;\n  });\n\n  it('default value for secondaryText', async () => {\n    const content = await setupFilePicker();\n    const secondaryText = await content.findByText('Select or drop files here');\n    expect(secondaryText).not.null;\n  });\n\n  it('default value for accessibleLabel', async () => {\n    const content = await setupFilePicker();\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    expect(firstElement.getAttribute('aria-label')).equals(\n      'Add Files. Drag and Drop. Select or drop files here'\n    );\n  });\n\n  it('HandleDragEnter', async () => {\n    const filePickerRef = createRef();\n    await setupFilePicker({}, filePickerRef);\n    const eventObj = createEvent();\n    const data = filePickerRef.current;\n    data.onDragEnter(eventObj.event);\n    await waitFor(() => {\n      eventObj.expectEventToBeCancelled();\n    });\n  });\n\n  //following test also checks for default capture option\n  const invalidTestDetails = [\n    {\n      description: 'Invalid single handleDragOver handleDragLeave',\n      dragOver: ['application/pdf'],\n      dragLeave: true,\n      invalidMessage: \"You can't upload files of type application/pdf\"\n    },\n    {\n      description: 'Invalid single handleDragOver handleFileDrop',\n      dragOver: ['application/pdf'],\n      fileDrop: [['test.pdf', 'application/pdf']],\n      invalidMessage: \"You can't upload files of type application/pdf\"\n    },\n    {\n      description: 'Invalid single unknown mimetype handleDragOver handleFileDrop',\n      dragOver: [''],\n      fileDrop: [['test.pkg', '']],\n      invalidMessage: \"You can't upload files of type unknown\",\n      invalidSafariIEMessage: \"You can't upload files of type .pkg\"\n    },\n    {\n      description: 'Invalid single .pem mimetype handleDragOver handleFileDrop',\n      dragOver: [''],\n      fileDrop: [['test.pkg', '']],\n      invalidMessage: \"You can't upload files of type .pkg\",\n      invalidSafariIEMessage: \"You can't upload files of type .pkg\",\n      mimeType: ['.pem']\n    },\n    {\n      description: 'Invalid single unknown no extension mimetype handleDragOver handleFileDrop',\n      dragOver: [''],\n      fileDrop: [['README', '']],\n      invalidMessage: \"You can't upload files of type unknown\"\n    },\n    {\n      description: 'Invalid multiple unknown mimetype handleDragOver handleFileDrop',\n      dragOver: ['', ''],\n      fileDrop: [\n        ['test.pkg', ''],\n        ['README', '']\n      ],\n      invalidMessage: \"You can't upload files of type unknown\",\n      invalidSafariIEMessage: \"You can't upload files of type: .pkg, unknown\"\n    },\n    {\n      description: 'Invalid multiple handleDragOver selectionMode single',\n      dragOver: ['image/png', 'image/png'],\n      invalidMessage: 'Upload one file at a time',\n      single: true\n    },\n    {\n      description: 'Invalid multiple handleDragOver handleFileDrop',\n      dragOver: ['application/pdf', 'application/pdf'],\n      fileDrop: [\n        ['test.pdf', 'application/pdf'],\n        ['test2.pdf', 'application/pdf']\n      ],\n      invalidMessage: \"You can't upload files of type application/pdf\"\n    },\n    {\n      description: 'Invalid multiple unique types handleDragOver handleFileDrop',\n      dragOver: ['application/pdf', 'video/mp4'],\n      fileDrop: [\n        ['test.pdf', 'application/pdf'],\n        ['test.mp4', 'video/mp4']\n      ],\n      invalidMessage: \"You can't upload files of type: application/pdf, video/mp4\"\n    }\n  ];\n  it('Invalid Scenarios', () => {\n    invalidTestDetails.forEach(async (test) => {\n      let invalidPromise = Promise.resolve();\n      const onRejection = (event: any) => {\n        const message = event.messages[0];\n        // TODO JET-53367 for safari/edge testing for preact components\n        const correctMessage =\n          getClientHints().browser === 'safari' && test.invalidSafariIEMessage\n            ? test.invalidSafariIEMessage\n            : test.invalidMessage;\n        expect(message.severity, 'Message severity is error').to.equal('error');\n        expect(message.summary, 'Message summary is correct').to.equal(correctMessage);\n        invalidPromise = event.until;\n        expectedCalls.invalidCalled = true;\n      };\n\n      const mimetypeDot = test.mimeType ? true : false;\n      const expectedCalls = { invalidCalled: false };\n\n      const filePickerRef = createRef();\n      const content = await setupFilePicker(\n        {\n          accept: test.mimeType ? test.mimeType : ['image/*'],\n          selectionMode: test.single ? 'single' : 'multiple',\n          onReject: onRejection\n        },\n        filePickerRef\n      );\n      const filePickerContent = content.container.firstElementChild as HTMLElement;\n      const eventObj = createInvalidDragOverEvent(\n        test.dragOver,\n        expectedCalls,\n        filePickerContent,\n        mimetypeDot\n      );\n      const data = filePickerRef.current;\n      data.onDragOver(eventObj.event);\n\n      await waitFor(() => {\n        eventObj.expectEventToBeCancelled();\n        eventObj.expectedCalls();\n      });\n\n      if (test.fileDrop) {\n        const dropEventObj = createInvalidDropEvent(test.fileDrop, expectedCalls, mimetypeDot);\n        data.onDrop(dropEventObj.event);\n        await invalidPromise;\n        dropEventObj.expectEventToBeCancelled();\n        dropEventObj.expectedCalls();\n      }\n      if (test.dragLeave) {\n        const dragLeaveEventObj = createDragLeaveEvent(content.container, filePickerContent);\n        data.onDragLeave(dragLeaveEventObj.event, mimetypeDot);\n        await invalidPromise;\n        dragLeaveEventObj.expectEventToBeCancelled();\n        dragLeaveEventObj.expectedCalls();\n      }\n    });\n  });\n\n  const validTestDetails = [\n    {\n      description: 'Valid single handleDragOver handleFileDrop',\n      dragOver: ['image/png'],\n      fileDrop: [['test.png', 'image/png']]\n    },\n    {\n      description: 'Valid .pem handleDragOver handleFileDrop',\n      dragOver: [''],\n      fileDrop: [['test.pem', '']],\n      mimeType: ['.pem']\n    },\n    {\n      description: 'Valid multiple handleDragOver handleFileDrop',\n      dragOver: ['image/png', 'image/png'],\n      fileDrop: [\n        ['test.png', 'image/png'],\n        ['test2.png', 'image/png']\n      ]\n    }\n  ];\n  it('Valid Scenarios', () => {\n    validTestDetails.forEach(async (test) => {\n      const onCommit = (event: any) => {\n        const files = event.files;\n        let file;\n        for (let i = 0; i < files.length; i++) {\n          file = files[i];\n          expect(file.name, 'File name is correct').to.equal(test.fileDrop[i][0]);\n          expect(file.type, 'File type is correct').to.equal(test.fileDrop[i][1]);\n        }\n        expectedCalls.selectCalled = true;\n      };\n      const onReject = () => {\n        expect(false, 'Invalid Select Listener should not be called').to.be.true;\n      };\n      const filePickerRef = createRef();\n      const content = await setupFilePicker(\n        {\n          accept: test.mimeType ? test.mimeType : ['image/*'],\n          onReject: onReject,\n          onCommit: onCommit\n        },\n        filePickerRef\n      );\n      const expectedCalls = { selectCalled: false };\n      const filePickerContent = content.container.firstElementChild as HTMLElement;\n      const data = filePickerRef.current;\n      const eventObj = createValidDragOverEvent(test.dragOver, filePickerContent);\n      data.onDragOver(eventObj.event);\n\n      await waitFor(() => {\n        eventObj.expectEventToBeCancelled();\n        eventObj.expectedCalls();\n      });\n\n      const dropEventObj = createValidDropEvent(test.fileDrop, expectedCalls);\n      data.onDrop(dropEventObj.event);\n\n      await waitFor(() => {\n        dropEventObj.expectEventToBeCancelled();\n        dropEventObj.expectedCalls();\n      });\n    });\n  });\n  it('handleFileSelected (click listener)', async () => {\n    let resolver: any;\n    const expectedCalls = { select: false };\n    const fileType = 'image/png';\n    const fileName = 'test.png';\n    const invalidPromise = new Promise((resolve) => {\n      resolver = resolve;\n    });\n    const filePickerRef = createRef();\n    const commitListener = (event: CommitDetail) => {\n      const file = event.files[0];\n      expect(file.name, 'File name is correct').to.equal(fileName);\n      expect(file.type, 'File type is correct').to.equal(fileType);\n      expectedCalls.select = true;\n      resolver();\n    };\n    await setupFilePicker({ accept: ['image/*'], onCommit: commitListener }, filePickerRef);\n    const data = filePickerRef.current;\n    const expectedCallsFunc = createExpectedCalls(expectedCalls);\n    data.onClickSelected([{ name: fileName, type: fileType }]);\n    await invalidPromise;\n    expectedCallsFunc();\n  });\n\n  if (getClientHints().browser === 'edge') {\n    it('handleFileSelected invalid file Edge(click listener)', async () => {\n      const onRejection = (event: any) => {\n        const message = event.detail.messages[0];\n        expect(message.severity, 'Message severity is error').to.equal('error');\n        expect(message.summary, 'Message summary is correct').to.equal(\n          \"You can't upload files of type \" + fileType + '.'\n        );\n        expectedCalls.invalid = true;\n        resolver();\n      };\n      const expectedCalls = { invalid: false };\n      const filePickerRef = createRef();\n      const FilePickerContainer = await setupFilePicker(\n        {\n          onReject: onRejection\n        },\n        filePickerRef\n      );\n      render(FilePickerContainer);\n      const data = filePickerRef.current;\n      const fileName = 'test.pdf';\n      const fileType = 'document/pdf';\n      let resolver: any;\n      const invalidPromise = new Promise((resolve, reject) => {\n        resolver = resolve;\n        reject = reject;\n      });\n      const expectedCallsFunc = createExpectedCalls(expectedCalls);\n      data.onClickSelected([{ name: fileName, type: fileType }]);\n      await invalidPromise;\n      expectedCallsFunc();\n    });\n  }\n});\ndescribe('File Picker - TabbableModeContext', () => {\n  it(' RootEnvironmentProvider is not present', async () => {\n    const content = await setupFilePicker();\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const tabindex = firstElement?.getAttribute('tabindex');\n    expect(tabindex).to.equal('0');\n  });\n\n  it('TabbableModeContext isTabbable=true', async () => {\n    const filePicker = <FilePicker></FilePicker>;\n    const content = await setupTabbableComponent(filePicker, true);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n\n    const tabindex = firstElement?.getAttribute('tabindex');\n    expect(tabindex).to.equal('0');\n  });\n\n  it('TabbableModeContext isTabbable=false', async () => {\n    const filePicker = <FilePicker></FilePicker>;\n    const content = await setupTabbableComponent(filePicker, false);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const tabindex = firstElement?.getAttribute('tabindex');\n    expect(tabindex).to.equal('-1');\n  });\n\n  it('TabbableModeContext not provided', async () => {\n    const filePicker = <FilePicker></FilePicker>;\n    const content = await setupTabbableComponent(filePicker);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const tabindex = firstElement?.getAttribute('tabindex');\n    expect(tabindex).to.equal('0');\n  });\n});\n\nconst setupFilePicker = async (props: filePickerProps = {}, ref?: TestHandlersRef) => {\n  const locale = matchTranslationBundle(['en'], new Set(['en-US', 'en']));\n  const { default: translations } = await import(`../../resources/nls/${locale}/bundle.ts`);\n  const env: Partial<RootEnvironment> = {\n    translations: { '@oracle/oraclejet-preact': translations }\n  };\n  let filePicker;\n  if (ref) {\n    const RefWrapper = forwardRef(TestFilePicker);\n    filePicker = <RefWrapper ref={ref} {...props}></RefWrapper>;\n  } else {\n    filePicker = <FilePicker {...props}></FilePicker>;\n  }\n\n  return render(<RootEnvironmentProvider environment={env}>{filePicker}</RootEnvironmentProvider>);\n};\n\nconst TestFilePicker = (props: filePickerProps, testHandlersRef: TestHandlersRef) => {\n  const BaseFilePicker = FilePicker as any;\n  const testProps = { __testHandlerSymbol: testHandlersRef, ...props };\n  return <BaseFilePicker {...testProps}></BaseFilePicker>;\n};\n\nconst createEvent = () => {\n  let defaultPrevented = false;\n  let propagationStopped = false;\n  return {\n    event: {\n      preventDefault: () => {\n        defaultPrevented = true;\n      },\n      stopPropagation: () => {\n        propagationStopped = true;\n      }\n    },\n    expectEventToBeCancelled: () => {\n      expect(defaultPrevented, 'Default prevented').to.be.true;\n      expect(propagationStopped, 'Propagation stopped').to.be.true;\n    }\n  };\n};\n\nconst createDragOverEvent = (types: Array<string>) => {\n  const eventObj = createEvent() as any;\n  const files = [] as Array<object>;\n  for (const type of types) {\n    files.push({ kind: 'file', type: type });\n  }\n  // TODO JET-53367 for safari/edge testing for preact components\n  const isSafari = getClientHints().browser === 'safari';\n  const dataTransfer = isSafari ? null : { items: files };\n  eventObj.event.dataTransfer = dataTransfer;\n\n  return eventObj;\n};\n\nconst createDropEvent = (types: Array<Array<string>>) => {\n  const eventObj = createEvent() as any;\n  const files = [] as Array<object>;\n  let type;\n\n  for (let i = 0; i < types.length; i++) {\n    type = types[i];\n    files.push({ name: type[0], type: type[1] });\n  }\n  eventObj.event.dataTransfer = { files: files };\n  return eventObj;\n};\n\nconst createValidDropEvent = (types: Array<Array<string>>, expectedCalls: any) => {\n  const eventObj = createDropEvent(types);\n  eventObj.expectedCalls = () => {\n    expect(expectedCalls.selectCalled, 'Select Listener Event fired').to.be.true;\n  };\n  return eventObj;\n};\n\nconst createValidDragOverEvent = (types: Array<string>, filepicker: HTMLElement) => {\n  const eventObj = createDragOverEvent(types);\n  eventObj.expectedCalls = () => {\n    expect(filepicker.querySelector('.oj-c-valid-drop') !== null, 'Overlay shown').to.be.true;\n  };\n  return eventObj;\n};\n\nconst createInvalidDragOverEvent = (\n  types: Array<string>,\n  expectedCalls: any,\n  filepicker: HTMLElement,\n  mimeTypeDot: boolean\n) => {\n  const eventObj = createDragOverEvent(types);\n  eventObj.expectedCalls = () => {\n    // TODO JET-53367 for safari/edge testing for preact components\n    // In IE and Safari, invalid select event isn't fired until drop\n    const isSafari = getClientHints().browser === 'safari';\n    if (isSafari || mimeTypeDot) {\n      expect(filepicker.querySelector('.oj-c-valid-drop') !== null, 'Overlay shown').to.be.true;\n      expect(expectedCalls.invalidCalled, 'Invalid Listener Event not fired in IE or Safari').to.be\n        .false;\n    } else {\n      expect(expectedCalls.invalidCalled, 'Invalid Listener Event fired').to.be.true;\n    }\n  };\n  return eventObj;\n};\n\nconst createInvalidDropEvent = (\n  types: Array<Array<string>>,\n  expectedCalls: any,\n  mimeTypeDot: boolean\n) => {\n  const eventObj = createDropEvent(types);\n  eventObj.expectedCalls = () => {\n    // TODO JET-53367 for safari/edge testing for preact components\n    const isSafari = getClientHints().browser === 'safari';\n    if (isSafari || mimeTypeDot) {\n      expect(expectedCalls.invalidCalled, 'Invalid Listener Event fired').to.be.true;\n    }\n  };\n  return eventObj;\n};\n\nconst createDragLeaveEvent = (container: Element, filepicker: HTMLElement) => {\n  const eventObj = createEvent() as any;\n  eventObj.event.relatedTarget = container;\n  // TODO JET-53367 for safari/edge testing for preact components\n  const isSafari = getClientHints().browser === 'safari';\n  eventObj.expectedCalls = () => {\n    // In IE and Safari, invalid select event isn't fired until drop\n    if (isSafari) {\n      expect(filepicker.querySelector('.oj-c-invalid-drop') === null, 'Invalid State removed').to.be\n        .true;\n    } else {\n      expect(filepicker.querySelector('.oj-c-valid-drop') === null, 'Overlay removed').to.be.true;\n    }\n  };\n  return eventObj;\n};\n\nconst createExpectedCalls = (calls: any) => {\n  return () => {\n    for (const call of Object.keys(calls)) {\n      expect(calls[call], call + ' Listener Event fired').to.be.true;\n    }\n  };\n};\n"],"names":["expect","createRef","waitFor","getClientHints","render","_jsx","FilePicker","setupTabbableComponent","matchTranslationBundle","forwardRef","RootEnvironmentProvider"],"mappings":"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"}