{"version":3,"file":"ProgressBar.spec.js","sources":["../../../../src/UNSAFE_ProgressBar/__tests__/ProgressBar.spec.tsx"],"sourcesContent":["import { render } from '@testing-library/preact';\nimport { expect } from 'chai';\nimport { ProgressBar } from '../';\nimport { matchTranslationBundle } from '../../utils/UNSAFE_matchTranslationBundle';\nimport { RootEnvironmentProvider } from '../../UNSAFE_Environment';\nimport type { RootEnvironment } from '../../UNSAFE_Environment';\n\ndescribe('Test Progress Bar component', () => {\n  it('render', async function () {\n    const content = render(<ProgressBar value={10} />);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const classList = firstElement.classList;\n    expect(classList.length).equals(2);\n  });\n\n  it('Default value verification using ARIA attributes', async function () {\n    const content = render(<ProgressBar />);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    expect(firstElement.getAttribute('aria-valuemin')).equals('0');\n    expect(firstElement.getAttribute('aria-valuemax')).equals('100');\n    expect(firstElement.getAttribute('aria-valuenow')).equals('0');\n  });\n\n  it('Test for Id ', async () => {\n    const content = render(<ProgressBar value={10} id=\"progressBar\" />);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    expect(firstElement.getAttribute('id')).equals('progressBar');\n  });\n\n  if (typeof jest === 'undefined') {\n    it('Test for component height ', async () => {\n      const content = render(<ProgressBar />);\n      const firstElement = content.container.firstElementChild as HTMLElement;\n      expect(\n        window.getComputedStyle(firstElement).getPropertyValue('height'),\n        'Height of the progress Bar '\n      ).to.be.equal('6px');\n    });\n  }\n\n  it('Test for component and value Width', async () => {\n    const content = render(<ProgressBar value={10} width=\"200px\" />);\n    //test for value width\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    const innerElement = firstElement?.firstElementChild as HTMLElement;\n    expect(innerElement.style.width).equals('10%');\n    expect(firstElement.style.width).equals('200px');\n  });\n});\n\ndescribe('Progress Bar Indeterminate aria-valuetext, translation and accessibleLabel', () => {\n  it('Test to check default aria-valuetext', async () => {\n    const locale = matchTranslationBundle(['en'], new Set(['en-US', 'en']));\n    const { default: translations } = await import(`../../resources/nls/${locale}/bundle.ts`);\n    const env: Partial<RootEnvironment> = {\n      translations: { '@oracle/oraclejet-preact': translations }\n    };\n    const content = render(\n      <RootEnvironmentProvider environment={env}>\n        <ProgressBar value={'indeterminate'} />\n      </RootEnvironmentProvider>\n    );\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    expect(firstElement.getAttribute('aria-valuetext')).equals('In Progress');\n  });\n\n  it('Test to check accessibleLabel property', async () => {\n    const locale = matchTranslationBundle(['en'], new Set(['en-US', 'en']));\n    const { default: translations } = await import(`../../resources/nls/${locale}/bundle.ts`);\n    const env: Partial<RootEnvironment> = {\n      translations: { '@oracle/oraclejet-preact': translations }\n    };\n    const content = render(\n      <RootEnvironmentProvider environment={env}>\n        <ProgressBar value={'indeterminate'} accessibleLabel=\"accessibleLabel\" />\n      </RootEnvironmentProvider>\n    );\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    expect(firstElement?.getAttribute('aria-valuetext')).equals('accessibleLabel');\n  });\n});\n\ndescribe('Progress Bar Embedded Test', () => {\n  if (typeof jest === 'undefined') {\n    it('Indeterminate Embedded Test', async () => {\n      const locale = matchTranslationBundle(['en'], new Set(['en-US', 'en']));\n      const { default: translations } = await import(`../../resources/nls/${locale}/bundle.ts`);\n      const env: Partial<RootEnvironment> = {\n        translations: { '@oracle/oraclejet-preact': translations }\n      };\n      const content = render(\n        <RootEnvironmentProvider environment={env}>\n          <ProgressBar value={'indeterminate'} edge=\"top\" />\n        </RootEnvironmentProvider>\n      );\n      const firstElement = content.container.firstElementChild as HTMLElement;\n      const innerElement = firstElement?.firstElementChild as HTMLElement;\n      expect(innerElement.classList.length).greaterThan(1);\n      expect(\n        !window.getComputedStyle(firstElement).getPropertyValue('borderStyle'),\n        'Embedded Indeterminate Progress Bar has no border'\n      ).to.be.true;\n      expect(\n        !window.getComputedStyle(firstElement).getPropertyValue('borderRadius'),\n        'Embedded Indeterminate Progress Bar has no border radius'\n      ).to.be.true;\n    });\n  }\n\n  it('Determinate Embedded Test', async () => {\n    const content = render(<ProgressBar value={10} edge=\"top\" />);\n    const innerElement = content.container?.firstElementChild?.firstElementChild as HTMLElement;\n    expect(innerElement.classList.length).equals(1);\n  });\n});\n\ndescribe('Test Progress Bar ARIA props', () => {\n  it('Test value and max property of Progress bar', async function () {\n    const content = render(<ProgressBar value={50} max={1000} />);\n    const firstElement = content.container.firstElementChild as HTMLElement;\n    expect(firstElement.getAttribute('aria-valuemax')).equals('1000');\n    expect(firstElement.getAttribute('aria-valuenow')).equals('50');\n    expect(firstElement.getAttribute('aria-valuemin')).equals('0');\n  });\n});\n"],"names":["render","_jsx","ProgressBar","expect","matchTranslationBundle","RootEnvironmentProvider"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,QAAQ,CAAC,6BAA6B,EAAE,MAAK;IAC3C,EAAE,CAAC,QAAQ,EAAE,kBAAK;AAChB,QAAA,MAAM,OAAO,GAAGA,aAAM,CAACC,cAAC,CAAAC,8BAAW,EAAC,EAAA,KAAK,EAAE,EAAE,EAAI,CAAA,CAAC,CAAC;AACnD,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;AACxE,QAAA,MAAM,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC;QACzCC,WAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACrC,KAAC,CAAC,CAAC;IAEH,EAAE,CAAC,kDAAkD,EAAE,kBAAK;QAC1D,MAAM,OAAO,GAAGH,aAAM,CAACC,eAACC,8BAAW,EAAA,EAAA,CAAG,CAAC,CAAC;AACxC,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;AACxE,QAAAC,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC/D,QAAAA,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACjE,QAAAA,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACjE,KAAC,CAAC,CAAC;AAEH,IAAA,EAAE,CAAC,cAAc,EAAE,YAAW;AAC5B,QAAA,MAAM,OAAO,GAAGH,aAAM,CAACC,cAAA,CAACC,8BAAW,EAAC,EAAA,KAAK,EAAE,EAAE,EAAE,EAAE,EAAC,aAAa,EAAA,CAAG,CAAC,CAAC;AACpE,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;AACxE,QAAAC,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;AAChE,KAAC,CAAC,CAAC;AAEH,IAAA,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;AAC/B,QAAA,EAAE,CAAC,4BAA4B,EAAE,YAAW;YAC1C,MAAM,OAAO,GAAGH,aAAM,CAACC,eAACC,8BAAW,EAAA,EAAA,CAAG,CAAC,CAAC;AACxC,YAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;YACxEC,WAAM,CACJ,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAChE,6BAA6B,CAC9B,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACvB,SAAC,CAAC,CAAC;AACJ,KAAA;AAED,IAAA,EAAE,CAAC,oCAAoC,EAAE,YAAW;AAClD,QAAA,MAAM,OAAO,GAAGH,aAAM,CAACC,cAAA,CAACC,8BAAW,EAAC,EAAA,KAAK,EAAE,EAAE,EAAE,KAAK,EAAC,OAAO,EAAA,CAAG,CAAC,CAAC;;AAEjE,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;QACxE,MAAM,YAAY,GAAG,YAAY,KAAA,IAAA,IAAZ,YAAY,KAAZ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,YAAY,CAAE,iBAAgC,CAAC;AACpE,QAAAC,WAAM,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/C,QAAAA,WAAM,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACnD,KAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,4EAA4E,EAAE,MAAK;AAC1F,IAAA,EAAE,CAAC,sCAAsC,EAAE,YAAW;AACpD,QAAA,MAAM,MAAM,GAAGC,0DAAsB,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACxE,QAAA,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,iCAAM,CAAC,CAAA,oBAAA,EAAuB,MAAM,CAAA,UAAA,CAAY,CAAC,CAAC;AAC1F,QAAA,MAAM,GAAG,GAA6B;AACpC,YAAA,YAAY,EAAE,EAAE,0BAA0B,EAAE,YAAY,EAAE;SAC3D,CAAC;QACF,MAAM,OAAO,GAAGJ,aAAM,CACpBC,eAACI,0CAAuB,EAAA,MAAA,CAAA,MAAA,CAAA,EAAC,WAAW,EAAE,GAAG,gBACvCJ,cAAC,CAAAC,8BAAW,IAAC,KAAK,EAAE,eAAe,EAAI,CAAA,EAAA,CAAA,CACf,CAC3B,CAAC;AACF,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;AACxE,QAAAC,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;AAC5E,KAAC,CAAC,CAAC;AAEH,IAAA,EAAE,CAAC,wCAAwC,EAAE,YAAW;AACtD,QAAA,MAAM,MAAM,GAAGC,0DAAsB,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACxE,QAAA,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,iCAAM,CAAC,CAAA,oBAAA,EAAuB,MAAM,CAAA,UAAA,CAAY,CAAC,CAAC;AAC1F,QAAA,MAAM,GAAG,GAA6B;AACpC,YAAA,YAAY,EAAE,EAAE,0BAA0B,EAAE,YAAY,EAAE;SAC3D,CAAC;QACF,MAAM,OAAO,GAAGJ,aAAM,CACpBC,cAAA,CAACI,0CAAuB,EAAC,MAAA,CAAA,MAAA,CAAA,EAAA,WAAW,EAAE,GAAG,EACvC,EAAA,EAAA,QAAA,EAAAJ,cAAA,CAACC,8BAAW,EAAC,EAAA,KAAK,EAAE,eAAe,EAAE,eAAe,EAAC,iBAAiB,EAAA,CAAG,EACjD,CAAA,CAAA,CAC3B,CAAC;AACF,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;AACxE,QAAAC,WAAM,CAAC,YAAY,KAAA,IAAA,IAAZ,YAAY,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAZ,YAAY,CAAE,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;AACjF,KAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,4BAA4B,EAAE,MAAK;AAC1C,IAAA,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;AAC/B,QAAA,EAAE,CAAC,6BAA6B,EAAE,YAAW;AAC3C,YAAA,MAAM,MAAM,GAAGC,0DAAsB,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACxE,YAAA,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,iCAAM,CAAC,CAAA,oBAAA,EAAuB,MAAM,CAAA,UAAA,CAAY,CAAC,CAAC;AAC1F,YAAA,MAAM,GAAG,GAA6B;AACpC,gBAAA,YAAY,EAAE,EAAE,0BAA0B,EAAE,YAAY,EAAE;aAC3D,CAAC;YACF,MAAM,OAAO,GAAGJ,aAAM,CACpBC,cAAA,CAACI,0CAAuB,EAAC,MAAA,CAAA,MAAA,CAAA,EAAA,WAAW,EAAE,GAAG,EACvC,EAAA,EAAA,QAAA,EAAAJ,cAAA,CAACC,8BAAW,EAAC,EAAA,KAAK,EAAE,eAAe,EAAE,IAAI,EAAC,KAAK,EAAA,CAAG,EAC1B,CAAA,CAAA,CAC3B,CAAC;AACF,YAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;YACxE,MAAM,YAAY,GAAG,YAAY,KAAA,IAAA,IAAZ,YAAY,KAAZ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,YAAY,CAAE,iBAAgC,CAAC;AACpE,YAAAC,WAAM,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACrDA,WAAM,CACJ,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,aAAa,CAAC,EACtE,mDAAmD,CACpD,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC;YACbA,WAAM,CACJ,CAAC,MAAM,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,cAAc,CAAC,EACvE,0DAA0D,CAC3D,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC;AACf,SAAC,CAAC,CAAC;AACJ,KAAA;AAED,IAAA,EAAE,CAAC,2BAA2B,EAAE,YAAW;;AACzC,QAAA,MAAM,OAAO,GAAGH,aAAM,CAACC,cAAA,CAACC,8BAAW,EAAC,EAAA,KAAK,EAAE,EAAE,EAAE,IAAI,EAAC,KAAK,EAAA,CAAG,CAAC,CAAC;QAC9D,MAAM,YAAY,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,OAAO,CAAC,SAAS,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,iBAAiB,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,iBAAgC,CAAC;AAC5F,QAAAC,WAAM,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAClD,KAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,8BAA8B,EAAE,MAAK;IAC5C,EAAE,CAAC,6CAA6C,EAAE,kBAAK;AACrD,QAAA,MAAM,OAAO,GAAGH,aAAM,CAACC,cAAA,CAACC,8BAAW,EAAC,EAAA,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAA,CAAI,CAAC,CAAC;AAC9D,QAAA,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAgC,CAAC;AACxE,QAAAC,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAClE,QAAAA,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAChE,QAAAA,WAAM,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACjE,KAAC,CAAC,CAAC;AACL,CAAC,CAAC;;;;;"}