{"version":3,"file":"SplitMenuButton.spec.js","sources":["../../../../src/UNSAFE_SplitMenuButton/__tests__/SplitMenuButton.spec.tsx"],"sourcesContent":["import { cleanup, fireEvent, render } from '@testing-library/preact';\nimport { expect } from 'chai';\nimport { SplitMenuButton } from '../SplitMenuButton';\nimport { MenuItem } from '../../UNSAFE_Menu';\n\nafterEach(cleanup);\n\ndescribe('Test SplitMenuButton component', () => {\n  it('render', async function () {\n    const content = render(\n      <SplitMenuButton label=\"Press Me\" onAction={() => null}></SplitMenuButton>\n    );\n    const label = await content.findByText('Press Me');\n    expect(label).not.null;\n  });\n\n  it('display text', async () => {\n    const content = render(\n      <SplitMenuButton label=\"SplitMenuButton\" onAction={() => null}></SplitMenuButton>\n    );\n    const label = await content.findByText('SplitMenuButton');\n    const endIcon = content.container.querySelector('.oj-c-button-layout-embedded-md');\n    expect(label).not.null;\n    expect(endIcon).not.null;\n  });\n});\n\nit('click', async function () {\n  let count = 0;\n  const increment = () => {\n    count++;\n  };\n  const content = render(\n    <div>\n      <SplitMenuButton label=\"Press Me\" onAction={increment}></SplitMenuButton>\n    </div>\n  );\n  const button = await content.findByText('Press Me');\n  expect(button).not.null;\n  fireEvent.click(button);\n  expect(count).to.equal(1);\n});\n\nit('ENTER', async function () {\n  let count = 0;\n  const increment = () => {\n    count++;\n  };\n  const content = render(<SplitMenuButton label=\"Press Me\" onAction={increment}></SplitMenuButton>);\n\n  const button = await content.container.firstElementChild;\n\n  expect(button).not.null;\n  if (button) {\n    fireEvent.keyDown(button, { code: 'Enter', key: 'Enter', keyCode: 13, charCode: 13 });\n    fireEvent.keyUp(button, { code: 'Enter', key: 'Enter', keyCode: 13, charCode: 13 });\n  }\n\n  expect(count).to.equal(1);\n});\n\nit('Space', async function () {\n  let count = 0;\n  const increment = () => {\n    count++;\n  };\n  const content = render(\n    <div>\n      <SplitMenuButton label=\"Press Me\" onAction={increment}></SplitMenuButton>\n      <span>{count}</span>\n    </div>\n  );\n  const button = await content.findByText('Press Me');\n  expect(button).not.null;\n  fireEvent.keyDown(button, { code: 'Space', key: 'Space', keyCode: 32, charcode: 32 });\n  fireEvent.keyUp(button, { code: 'Space', key: 'Space', keyCode: 32, charcode: 32 });\n  expect(count).to.equal(1);\n});\n\nit('Menu', async function () {\n  const increment = () => {\n    console.log('increment');\n  };\n  const content = render(\n    <SplitMenuButton label=\"Press Me\" onAction={increment}>\n      <MenuItem label=\"MenuItem1\" onAction={increment} />\n    </SplitMenuButton>\n  );\n  const button = await content.container.firstElementChild?.firstElementChild;\n  const iconButton = await button?.lastElementChild?.firstElementChild;\n\n  expect(iconButton).not.null;\n  if (iconButton) {\n    fireEvent.click(iconButton);\n  }\n});\n"],"names":["cleanup","render","_jsx","SplitMenuButton","expect","fireEvent","_jsxs","MenuItem"],"mappings":"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"}