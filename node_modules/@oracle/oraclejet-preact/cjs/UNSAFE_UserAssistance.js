/* @oracle/oraclejet-preact: 14.1.0 */
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var jsxRuntime = require('preact/jsx-runtime');
require("identity-obj-proxy");
var InlineHelpSource = require('./InlineHelpSource-c498a09a.js');
require('./utils/UNSAFE_classNames.js');
var hooks_UNSAFE_useTranslationBundle = require('./hooks/UNSAFE_useTranslationBundle.js');
var classNames = require('./classNames-55bceee6.js');
require('./UNSAFE_ComponentMessage.js');
var hooks_UNSAFE_useFormContext = require('./hooks/UNSAFE_useFormContext.js');
var hooks_UNSAFE_useFormFieldContext = require('./hooks/UNSAFE_useFormFieldContext.js');
var ComponentMessageContainer = require('./ComponentMessageContainer-7880a1b9.js');
require('./hooks/UNSAFE_useTabbableMode.js');
require('preact');
require('preact/hooks');
require('./UNSAFE_Environment.js');
require('./UNSAFE_Layer.js');
require('preact/compat');
require('./ComponentMessage-eea92e6b.js');
require('./PRIVATE_Message.js');
require('./UNSAFE_Flex.js');
require('./Flex-b113edd5.js');
require('./tslib.es6-6f60dd09.js');
require('./utils/UNSAFE_interpolations/dimensions.js');
require('./utils/UNSAFE_arrayUtils.js');
require('./utils/UNSAFE_size.js');
require('./_curry1-f1ebd742.js');
require('./utils/UNSAFE_mergeInterpolations.js');
require('./_curry3-bc6e6a86.js');
require('./_curry2-588f7ddc.js');
require('./_has-2eedb7e0.js');
require('./utils/UNSAFE_interpolations/boxalignment.js');
require('./keys-326d80d5.js');
require('./utils/UNSAFE_interpolations/flexbox.js');
require('./flexbox-6deddb70.js');
require('./utils/UNSAFE_interpolations/flexitem.js');
require('./flexitem-0c1e9a72.js');
require('./utils/PRIVATE_timer.js');
require('./MessageCloseButton-66757186.js');
require('./UNSAFE_Button.js');
require('./Button-07d97191.js');
require('./UNSAFE_BaseButton.js');
require('./BaseButton-9bfe304e.js');
require('./hooks/UNSAFE_usePress.js');
require('./hooks/UNSAFE_useHover.js');
require('./hooks/UNSAFE_useToggle.js');
require('./hooks/UNSAFE_useActive.js');
require('./utils/PRIVATE_clientHints.js');
require('./clientHints-e821b5ee.js');
require('./utils/UNSAFE_mergeProps.js');
require('./index-3651c0e7.js');
require('./index-d5067e50.js');
require('./UNSAFE_Icon.js');
require('./Icon-c44e10c9.js');
require('./hooks/UNSAFE_useTooltip.js');
require('./hooks/UNSAFE_useId.js');
require('./UNSAFE_Floating.js');
require('./Floating-48167355.js');
require('./index-55dfe40c.js');
require('./hooks/UNSAFE_useUser.js');
require('./utils/PRIVATE_floatingUtils.js');
require('./utils/PRIVATE_refUtils.js');
require('./hooks/UNSAFE_useOutsideClick.js');
require('./hooks/UNSAFE_useFocus.js');
require('./hooks/UNSAFE_useTouch.js');
require('./hooks/UNSAFE_useAnimation.js');
require('./useAnimation-576ef8bc.js');
require('./hooks/UNSAFE_useTheme.js');
require('./MessageDetail-9ab2fec2.js');
require('./MessageFormattingUtils-fac29bd4.js');
require('./utils/UNSAFE_getLocale.js');
require('./utils/UNSAFE_stringUtils.js');
require('./stringUtils-dad38408.js');
require('./Message.types-d5b1820f.js');
require('./MessageStartIcon-5cdb8fbe.js');
require('./MessageSummary-ea4ba9b8.js');
require('./MessageTimestamp-cb7998db.js');
require('./MessageUtils-c82ad817.js');
require('./utils/UNSAFE_logger.js');
require('./utils/UNSAFE_soundUtils.js');
require('./MessagesManager-88e137d7.js');
require('./PRIVATE_TransitionGroup.js');
require('./hooks/UNSAFE_useMessagesContext.js');
require('./UNSAFE_HiddenAccessible.js');
require('./HiddenAccessible-42dab376.js');

const helpTextStyles = "xtape5";
function InlineHelp({
  assistiveText,
  sourceLink,
  sourceText
}) {
  return jsxRuntime.jsxs("div", {
    children: [assistiveText && sourceLink ? jsxRuntime.jsx("span", Object.assign({
      class: helpTextStyles
    }, {
      children: assistiveText
    })) : assistiveText, sourceLink && jsxRuntime.jsx(InlineHelpSource.InlineHelpSource, Object.assign({
      source: sourceLink
    }, {
      children: sourceText
    }))]
  });
}

const variantStyles$1 = {
  start: "_4mnn8h",
  end: "xb1yle"
};
const displayHiddenStyles = "_1ef8utb";
function InlineRequired({
  align = 'end',
  hasHelp = false,
  hasMessages = false
}) {
  const classes = classNames.classNames([variantStyles$1[align], (hasHelp || hasMessages) && displayHiddenStyles]);
  const translations = hooks_UNSAFE_useTranslationBundle.useTranslationBundle('@oracle/oraclejet-preact');
  const requiredStr = translations.userAssistance_required();
  return jsxRuntime.jsx("div", Object.assign({
    class: classes
  }, {
    children: requiredStr
  }));
}

const baseStyles = "b7his9";
const variantStyles = {
  reflow: "_2he38a",
  efficient: "yp4tq8"
}; // defaults to type='reflow'. If this is within an oj-form-layout, the o-f-l
// will pass down its type which defaults to 'efficient' (TODO).

function InlineUserAssistanceContainer({
  variant = 'reflow',
  children,
  id
}) {
  const classes = classNames.classNames([baseStyles, variantStyles[variant]]);
  return jsxRuntime.jsx("div", Object.assign({
    class: classes,
    id: id
  }, {
    children: children
  }));
}

// This has the precedence rules for the user assistance.
function InlineUserAssistance({ assistiveText, fieldLabel, helpSourceLink, helpSourceText, id, isRequiredShown, messages = [], userAssistanceDensity }) {
    const { isReadonly: isFormReadonly } = hooks_UNSAFE_useFormContext.useFormContext();
    const needsUserAssistanceIfNoContent = userAssistanceDensity === 'efficient' && isFormReadonly === false;
    const { isFocused } = hooks_UNSAFE_useFormFieldContext.useFormFieldContext();
    const uaInlineContent = messages.length > 0 ? (jsxRuntime.jsx(ComponentMessageContainer.ComponentMessageContainer, { fieldLabel: fieldLabel, messages: messages })) : (assistiveText || helpSourceLink) && isFocused ? (jsxRuntime.jsx(InlineHelp, { assistiveText: assistiveText, sourceLink: helpSourceLink, sourceText: helpSourceText })) : isRequiredShown ? (jsxRuntime.jsx(InlineRequired, {})) : null;
    // when reflow we do not render unless it has content.
    // when efficient we render regardless of if it has content.
    // TODO: Get the userAssistanceDensity value from the FormContext
    return uaInlineContent || needsUserAssistanceIfNoContent ? (jsxRuntime.jsx(InlineUserAssistanceContainer, Object.assign({ id: id, variant: userAssistanceDensity }, { children: uaInlineContent }))) : null;
}

exports.InlineHelpSource = InlineHelpSource.InlineHelpSource;
exports.InlineHelp = InlineHelp;
exports.InlineRequired = InlineRequired;
exports.InlineUserAssistance = InlineUserAssistance;
exports.InlineUserAssistanceContainer = InlineUserAssistanceContainer;
/*  */
//# sourceMappingURL=UNSAFE_UserAssistance.js.map
