{"version":3,"file":"TextArea.spec.js","sources":["../../../../src/UNSAFE_TextArea/__tests__/TextArea.spec.tsx"],"sourcesContent":["import { cleanup, render } from '@testing-library/preact';\nimport { expect } from 'chai';\nimport { TextArea } from '../TextArea';\nimport type { RootEnvironment } from '../../UNSAFE_Environment';\nimport { RootEnvironmentProvider } from '../../UNSAFE_Environment';\nimport { matchTranslationBundle } from '../../utils/UNSAFE_matchTranslationBundle';\n\nasync function getEnvironmentContext() {\n  const locale = matchTranslationBundle(['en'], new Set(['en-US', 'en']));\n  const { default: translations } = await import(`../../resources/nls/${locale}/bundle.ts`);\n  return {\n    translations: { '@oracle/oraclejet-preact': translations }\n  } as Partial<RootEnvironment>;\n}\n\nconst noOp = () => {};\n\ndescribe('TextArea - remaining text counter', () => {\n  it('verifies counter text is shown by default', async () => {\n    const env = await getEnvironmentContext();\n    const { container } = render(\n      <RootEnvironmentProvider environment={env}>\n        <TextArea\n          ariaDescribedBy=\"testId\"\n          label=\"Test Label\"\n          value=\"1234\"\n          maxLength={50}\n          onInput={noOp}\n        />\n      </RootEnvironmentProvider>\n    );\n\n    const textAreaElement = container.querySelector('textarea');\n    const siblingElement = textAreaElement?.nextElementSibling;\n    const children = siblingElement?.children;\n    const childSpanElement = children && children.length !== 0 ? children[0] : null;\n    expect(childSpanElement).not.to.be.null;\n    expect(childSpanElement?.tagName).to.equal('SPAN');\n    expect(childSpanElement?.textContent).to.equal('4/50');\n  });\n  it('verifies counter text is shown for maxLengthCounter == \"remaining\"', async () => {\n    const env = await getEnvironmentContext();\n    const { container } = render(\n      <RootEnvironmentProvider environment={env}>\n        <TextArea\n          ariaDescribedBy=\"testId\"\n          label=\"Test Label\"\n          value=\"1234\"\n          maxLength={50}\n          maxLengthCounter=\"remaining\"\n          onInput={noOp}\n        />\n      </RootEnvironmentProvider>\n    );\n\n    const textAreaElement = container.querySelector('textarea');\n    const siblingElement = textAreaElement?.nextElementSibling;\n    const children = siblingElement?.children;\n    const childSpanElement = children && children.length !== 0 ? children[0] : null;\n    expect(childSpanElement).not.to.be.null;\n    expect(childSpanElement?.tagName).to.equal('SPAN');\n    expect(childSpanElement?.textContent).to.equal('4/50');\n  });\n  it('verifies counter text is not shown for maxLengthCounter == \"none\"', async () => {\n    const env = await getEnvironmentContext();\n    const { container } = render(\n      <RootEnvironmentProvider environment={env}>\n        <TextArea\n          ariaDescribedBy=\"testId\"\n          label=\"Test Label\"\n          value=\"1234\"\n          maxLength={50}\n          maxLengthCounter=\"none\"\n          onInput={noOp}\n        />\n      </RootEnvironmentProvider>\n    );\n\n    const textAreaElement = container.querySelector('textarea');\n    const siblingElement = textAreaElement?.nextElementSibling;\n    const children = siblingElement?.children;\n    const childSpanElement = children && children.length !== 0 ? children[0] : null;\n    expect(childSpanElement).to.be.null;\n  });\n\n  afterEach(cleanup);\n});\n"],"names":["matchTranslationBundle","render","_jsx","RootEnvironmentProvider","TextArea","expect","cleanup"],"mappings":"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"}