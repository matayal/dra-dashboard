{"version":3,"file":"MenuItem.spec.js","sources":["../../../../src/UNSAFE_Menu/__tests__/MenuItem.spec.tsx"],"sourcesContent":["import { render, fireEvent } from '@testing-library/preact';\nimport userEvent from '@testing-library/user-event';\n\nimport { expect } from 'chai';\nimport { spy } from 'sinon';\n\nimport { MenuItem } from '../MenuItem';\nimport { getIcon, getMenuItemByRole, getLabel } from './menuTestsUtils';\n\ndescribe('Test MenuItem Component', () => {\n  it('Default MenuItem with just label renders correctly', async function () {\n    const content = render(<MenuItem label=\"MenuItem1\" />);\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n\n    const disabled = menuItem.getAttribute('disabled');\n    const tabindex = menuItem.getAttribute('tabindex');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(menuItem.dataset['ojMenuItemKey']).not.undefined;\n    expect(tabindex).to.equal('-1');\n    expect(disabled).null;\n  });\n\n  it('Disabled MenuItem renders correctly', async function () {\n    const content = render(<MenuItem label=\"MenuItem1\" isDisabled />);\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    expect(menuItem.getAttribute('aria-disabled')).equals('true');\n  });\n\n  it('MenuItem with startIcon renders correctly', async function () {\n    const content = render(\n      <MenuItem label=\"MenuItem1\" startIcon={<span class=\"startIcon\"></span>} />\n    );\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n    const startIcon = getIcon(menuItem, '.startIcon');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(startIcon).not.null;\n  });\n\n  it('MenuItem with endIcon renders correctly', async function () {\n    const content = render(<MenuItem label=\"MenuItem1\" endIcon={<span class=\"endIcon\"></span>} />);\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n    const endIcon = getIcon(menuItem, '.endIcon');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(endIcon).not.null;\n  });\n\n  it('MenuItem with startIcon and endIcon renders correctly', async function () {\n    const content = render(\n      <MenuItem\n        label=\"MenuItem1\"\n        startIcon={<span class=\"startIcon\"></span>}\n        endIcon={<span class=\"endIcon\"></span>}\n      />\n    );\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n    const startIcon = getIcon(menuItem, '.startIcon');\n    const endIcon = getIcon(menuItem, '.endIcon');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(startIcon).not.null;\n    expect(endIcon).not.null;\n  });\n\n  it('click MenuItem', async function () {\n    const onActionDummyFunction = spy();\n    const content = render(<MenuItem label=\"MenuItem1\" onAction={onActionDummyFunction} />);\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    fireEvent.click(menuItem);\n    expect(onActionDummyFunction.calledOnce).to.be.true;\n  });\n\n  it('enter MenuItem', async function () {\n    const onActionDummyFunction = spy();\n    const content = render(<MenuItem label=\"MenuItem1\" onAction={onActionDummyFunction} />);\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    menuItem.focus();\n    userEvent.keyboard('{enter}');\n    expect(onActionDummyFunction.calledOnce).to.be.true;\n  });\n\n  it('space MenuItem', async function () {\n    const onActionDummyFunction = spy();\n    const content = render(<MenuItem label=\"MenuItem1\" onAction={onActionDummyFunction} />);\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    menuItem.focus();\n    userEvent.keyboard('{space}');\n    expect(onActionDummyFunction.calledOnce).to.be.true;\n  });\n});\n"],"names":["render","_jsx","MenuItem","getMenuItemByRole","getLabel","expect","getIcon","spy","fireEvent","userEvent"],"mappings":"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"}