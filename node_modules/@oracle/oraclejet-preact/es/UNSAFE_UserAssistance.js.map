{"version":3,"file":"UNSAFE_UserAssistance.js","sources":["../../src/UNSAFE_UserAssistance/InlineHelpSource.tsx","../../src/UNSAFE_UserAssistance/InlineHelp.tsx","../../src/UNSAFE_UserAssistance/InlineRequired.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistanceContainer.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistance.tsx"],"sourcesContent":["import { cssProps } from '@oracle/oraclejet-cssprops';\nimport { useTabbableMode } from '../hooks/UNSAFE_useTabbableMode';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\nconst rootStyles = cssProps`${{\n  color: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-color)',\n  lineHeight: 'inherit',\n  textDecorationLine: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-decoration-line)',\n  cursor: 'var(--oj-c-PRIVATE-DO-NOT-USE-core-cursor-clickable)',\n\n  '&:visited': {\n    color: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-color-visited)'\n  },\n\n  '&:active': {\n    color: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-color-active)'\n  },\n\n  '&:hover': {\n    textDecorationLine: 'var(--oj-c-PRIVATE-DO-NOT-USE-link-text-decoration-line-hover)',\n\n    transitionProperty: 'text-decoration',\n    transitionDuration: 'var(--oj-c-PRIVATE-DO-NOT-USE-animation-duration-long)'\n  },\n\n  // TODO: use cross-browser supported focus strategy\n  '&:focus-visible': {\n    outlineColor: 'var(--oj-c-PRIVATE-DO-NOT-USE-core-focus-border-color)',\n    outlineStyle: 'dotted',\n    outlineWidth: '1px',\n    outlineOffset: '-1px'\n  }\n}}`;\n\ntype Props = {\n  children?: string;\n  source: string;\n};\n\nexport function InlineHelpSource({ children, source }: Props) {\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const userAssistance_learnMoreStr = translations.userAssistance_learnMore();\n  children = children ?? userAssistance_learnMoreStr;\n  // JET-52914 - Implement Tabbable mode API contract in InputText\n  // if not tabbable, spread tabbableModeProps on component\n  const { isTabbable, tabbableModeProps } = useTabbableMode();\n  // TODO: Implement and use a preact Link component instead of using an anchor tag\n  return (\n    <a class={rootStyles} target=\"_blank\" href={source} {...(!isTabbable && tabbableModeProps)}>\n      {children}\n    </a>\n  );\n}\n","import { cssProps } from '@oracle/oraclejet-cssprops';\nimport { InlineHelpSource } from './InlineHelpSource';\n\nconst helpTextStyles = cssProps`${{\n  marginInlineEnd: '0.25rem',\n  whiteSpace: 'pre'\n}}`;\n\ntype Props = {\n  assistiveText?: string;\n  sourceLink?: string;\n  sourceText?: string;\n};\n\nexport function InlineHelp({ assistiveText, sourceLink, sourceText }: Props) {\n  return (\n    <div>\n      {assistiveText && sourceLink ? (\n        <span class={helpTextStyles}>{assistiveText}</span>\n      ) : (\n        assistiveText\n      )}\n      {sourceLink && <InlineHelpSource source={sourceLink}>{sourceText}</InlineHelpSource>}\n    </div>\n  );\n}\n","import { classNames } from '../utils/UNSAFE_classNames';\nimport { cssProps } from '@oracle/oraclejet-cssprops';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\nconst variantStyles = {\n  start: cssProps`${{\n    paddingInlineEnd: '2px',\n    textAlign: 'start'\n  }}`,\n  end: cssProps`${{\n    paddingInlineStart: '2px',\n    textAlign: 'end'\n  }}`\n};\nconst displayHiddenStyles = cssProps`${{\n  display: 'none'\n}}`;\n\ntype Props = {\n  align?: 'start' | 'end';\n  hasMessages?: boolean;\n  hasHelp?: boolean;\n};\n\nexport function InlineRequired({ align = 'end', hasHelp = false, hasMessages = false }: Props) {\n  const classes = classNames([\n    variantStyles[align],\n    (hasHelp || hasMessages) && displayHiddenStyles\n  ]);\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const requiredStr = translations.userAssistance_required();\n\n  return <div class={classes}>{requiredStr}</div>;\n}\n","import { ComponentChildren } from 'preact';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { cssProps } from '@oracle/oraclejet-cssprops';\nimport { UserAssistanceDensityType } from './InlineUserAssistance';\n\nconst baseStyles = cssProps`${{\n  marginTop: '2px',\n  color: 'var(--oj-c-PRIVATE-DO-NOT-USE-user-assistance-inline-text-color)',\n  fontSize: 'var(--oj-c-PRIVATE-DO-NOT-USE-user-assistance-inline-font-size)',\n  fontWeight: 'normal',\n  lineHeight: 1.333,\n  wordBreak: 'break-word'\n}}`;\nconst variantStyles = {\n  reflow: cssProps`${{\n    '&:empty': {\n      marginTop: '0px'\n    }\n  }}`,\n  efficient: cssProps`${{\n    minHeight: '1.333rem'\n  }}`\n};\n\ntype Props = {\n  children?: ComponentChildren;\n  id?: string;\n  variant?: UserAssistanceDensityType;\n};\n\n// defaults to type='reflow'. If this is within an oj-form-layout, the o-f-l\n// will pass down its type which defaults to 'efficient' (TODO).\nexport function InlineUserAssistanceContainer({ variant = 'reflow', children, id }: Props) {\n  const classes = classNames([baseStyles, variantStyles[variant]]);\n\n  return (\n    <div class={classes} id={id}>\n      {children}\n    </div>\n  );\n}\n","import { ComponentMessageItem, ComponentMessageContainer } from '../UNSAFE_ComponentMessage';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { InlineHelp } from './InlineHelp';\nimport { InlineRequired } from './InlineRequired';\nimport { InlineUserAssistanceContainer } from './InlineUserAssistanceContainer';\n\n// TODO: support 'compact' density type\nexport type UserAssistanceDensityType = 'reflow' | 'efficient';\n\ntype Props = {\n  assistiveText?: string;\n  fieldLabel?: string;\n  helpSourceLink?: string;\n  helpSourceText?: string;\n  id?: string;\n  isRequiredShown?: boolean;\n  messages?: ComponentMessageItem[];\n  userAssistanceDensity?: UserAssistanceDensityType;\n};\n\n// This has the precedence rules for the user assistance.\nexport function InlineUserAssistance({\n  assistiveText,\n  fieldLabel,\n  helpSourceLink,\n  helpSourceText,\n  id,\n  isRequiredShown,\n  messages = [],\n  userAssistanceDensity\n}: Props) {\n  const { isReadonly: isFormReadonly } = useFormContext();\n  const needsUserAssistanceIfNoContent =\n    userAssistanceDensity === 'efficient' && isFormReadonly === false;\n  const { isFocused } = useFormFieldContext();\n  const uaInlineContent =\n    messages.length > 0 ? (\n      <ComponentMessageContainer fieldLabel={fieldLabel} messages={messages} />\n    ) : (assistiveText || helpSourceLink) && isFocused ? (\n      <InlineHelp\n        assistiveText={assistiveText}\n        sourceLink={helpSourceLink}\n        sourceText={helpSourceText}\n      />\n    ) : isRequiredShown ? (\n      <InlineRequired />\n    ) : null;\n\n  // when reflow we do not render unless it has content.\n  // when efficient we render regardless of if it has content.\n  // TODO: Get the userAssistanceDensity value from the FormContext\n  return uaInlineContent || needsUserAssistanceIfNoContent ? (\n    <InlineUserAssistanceContainer id={id} variant={userAssistanceDensity}>\n      {uaInlineContent}\n    </InlineUserAssistanceContainer>\n  ) : null;\n}\n"],"names":["rootStyles","InlineHelpSource","children","source","translations","useTranslationBundle","userAssistance_learnMoreStr","userAssistance_learnMore","helpTextStyles","InlineHelp","assistiveText","sourceLink","sourceText","_jsxs","_jsx","Object","assign","class","variantStyles","displayHiddenStyles","InlineRequired","align","hasHelp","hasMessages","requiredStr","userAssistance_required","classes","baseStyles","InlineUserAssistanceContainer","variant","id","classNames"],"mappings":"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"}