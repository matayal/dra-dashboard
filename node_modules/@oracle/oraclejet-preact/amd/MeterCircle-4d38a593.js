define(["exports","./tslib.es6-d8595453","preact/jsx-runtime","./hooks/UNSAFE_useUser",'module',"preact/hooks","./utils/UNSAFE_mergeProps","./utils/UNSAFE_classNames","./PRIVATE_Meter","./utils/PRIVATE_meterUtils","./utils/UNSAFE_dvtCommonUtils","./hooks/PRIVATE_useDvtMeterEvents","./hooks/UNSAFE_useTabbableMode","./classNames-b7cf3c05"],function(t,e,n,r,s,i,a,o,l,c,u,d,h,m){"use strict";function f({color:t,angle:e,radius:r,length:s,section:i="full"}){const a=c.getCenterCoord(i),o=`calc(${100*a.y}% - ((${Math.sin(2*e*Math.PI/360)} * ${r})))`,l=`calc(${100*a.x}%  + ((${Math.cos(2*e*Math.PI/360)} * ${r})))`;return n.jsx("div",{class:g.base,style:{left:l,top:o,width:`calc(${s})`,transform:`translate(0, -1px) rotate(${360-e}deg)`,backgroundColor:t?u.getDvtThresholdColor(t):"var(--oj-c-PRIVATE-DO-NOT-USE-dvt-reference-object-line-color)",borderBottom:"1px solid var(--oj-c-PRIVATE-DO-NOT-USE-dvt-contrast-line-color)"}})}const g={base:"prs3pr"};function b(t,e){if(!t)return{width:0,height:0,innerRadius:0,outerRadius:0};const n=t.children[0],r=n.getBoundingClientRect();return Object.assign({width:Math.round(r.width),height:Math.round(r.height)},function(t,e,n){const r=t.clientWidth,s=t.clientHeight;if("bottom"===n||"top"===n)return{outerRadius:e.width/2,innerRadius:s};if("left"===n||"right"===n)return{outerRadius:e.height/2,innerRadius:r};return{innerRadius:r/2,outerRadius:e.width/2}}(n,r,e))}function p(t,e,n,r){return t*r/(n-e)}function x(t,e,n,r,s,i){return r+(i?1:-1)*p(t-e,e,n,s)}function R(t){return`var(--oj-c-PRIVATE-DO-NOT-USE-meter-circle-${t}-size)`}function v(t){return`var(--oj-c-PRIVATE-DO-NOT-USE-meter-circle-${t}-track-size)`}function _(t,e){return null!=e?`(${R(t)} * ${e/2})`:`(${R(t)} * 0.5 - ${v(t)})`}function $(t,e){return null!=e?`(${R(t)} * ${1-e} / 2)`:v(t)}function C(t,e){return`${$(t,e)} + ${{sm:"1rem",md:"0.75rem",lg:"0.5rem"}[t]}`}function j(t,e,n,r,s){const{min:i,max:a,startAngle:o,angleExtent:l,size:d,section:h,isRtl:m,innerRadius:f}=t,g=`calc(${$(d,s)})`,b=[],R=e.filter(t=>t.max>i&&t.max<=a).sort((t,e)=>t.max-e.max),v=R.length;for(let t=0;t<v;t++){const e=R[t],s=0===t?i:R[t-1].max,d=0===t?e.max:e.max-R[t-1].max;let _=x(s,i,a,o,l,m),$=p(d,i,a,l);const{startOffset:C,extentOffset:j}=P(f,l,0===t,e.max===a,m),z=c.getClipPath(_+C,$+j,m,h);if(b.push({clipPath:z,color:u.getDvtThresholdColor(e.color),size:g,section:h}),t===v-1&&e.max<a&&n){_+=(m?1:-1)*$,$=p(a-e.max,i,a,l);const{startOffset:t,extentOffset:n}=P(f,l,!1,!0,m);b.push({clipPath:c.getClipPath(_+t,$+n,m,h),color:r,size:g,section:h})}}return b}function z(t,e,n,r,s,i){const{startAngle:a,angleExtent:o,size:l,section:u,isRtl:d}=t;return{section:u,color:e?"all"===n&&i?"var(--oj-c-PRIVATE-DO-NOT-USE-dvt-contrast-line-color)":r:"transparent",clipPath:c.getClipPath(a,o,d,u),size:`calc(${$(l,s)})`}}function E(t,e,n){const{value:r,min:s,max:i,startAngle:a,angleExtent:o,size:l,section:u,isRtl:d}=t,h=(r-s)*o/(i-s),m=Math.min(Math.max(0,e),1),f="left"===u||"right"===u,g="top"===u||"bottom"===u,b=`calc(${$(l,n)} * ${m})`,p=`${R(l)} - ((1 - ${m}) * ${$(l,n)})`,x=`(${p}) / 2`;return{section:u,width:f?`calc(${x})`:`calc(${p})`,height:g?`calc(${x})`:`calc(${p})`,size:b,clipPath:c.getClipPath(a,h,d,u)}}function P(t,e,n,r,s){if(!t)return{startOffset:0,extentOffset:0};const i=360/(2*Math.PI*t);let a=i/2*(s?1:-1),o=-1*i;return n&&e<360&&(a=0,o=-.5*i),r&&e<360&&(o=-.5*i),{startOffset:a,extentOffset:o}}const O={base:"_19d4dy2",interactive:"_1snfrnp"},A={full:"_23zwrl",top:"_173o20s",bottom:"v0dfmb",right:"o6d0ij",left:"_3qz88f",smtop:"_1gn6j8m",mdtop:"f3vrqv",lgtop:"_40mbvl",smbottom:"_10n3g40",mdbottom:"_1rwfjha",lgbottom:"rh9g3q",smleft:"_6ps5rc",mdleft:"_1e2acnz",lgleft:"_5a1o30",smright:"mltnnd",mdright:"_154nev9",lgright:"_1d9y0d9",smfull:"m0h73h",mdfull:"_1qxbpvm",lgfull:"gz24ll",lgHorizontal:"_1x6rqzc",lgVertical:"r15buq",smHorizontal:"mif2xu",smVertical:"_1qurat1",mdHorizontal:"_4o8f3c",mdVertical:"hzmesc",smFull:"ph5fbl",mdFull:"mzln8",lgFull:"wzkuab",centerContent:"purbfb",thresholds:"_1r48edm"},M="_1ebwq2x",T={base:"_5hh72v"},I={base:"_1ej0btz",sm:"ojhvpm",md:"_1vkwf8a",lg:"_10dnxvf"},w={base:"jqsod9",full:"w3zka7",top:"_191rf7y",right:"_11jlgh9",left:"_2w2dhs",bottom:"_1sc27d8"};t.MeterCircle=function(t){var s,{max:o=100,min:u=0,value:g=0,step:p=1,size:R="lg",startAngle:v=90,angleExtent:$=360,isTrackRendered:P=!0,thresholdDisplay:N="all",indicatorSize:q=1}=t,k=e.__rest(t,["max","min","value","step","size","startAngle","angleExtent","isTrackRendered","thresholdDisplay","indicatorSize"]);c.validateRange(u,o,g,p);const{direction:y}=r.useUser(),S="rtl"===y,U=c.getCircleSection(v,$,S),D=i.useRef(b(null,U)),V=i.useRef(null),[F,B]=i.useState(!1);i.useEffect(()=>{(k.onCommit||k.onInput||k.children)&&(D.current=b(V.current,U),B(!0))},[R,k.onCommit,k.onInput,k.children]);const H=d.usePointerEvents(g,t=>{const e=V.current;if(t.target==e)return function(t,e,n,r,s,i,a,o,l){const u=s.current;if(!u)return;const d=c.getCenterCoord(o),{angle:h}=c.convertToPolar(u.width*d.x,u.height*d.y,t.offsetX,t.offsetY),m=c.getPositiveAngle(h);let f;if(l&&i+a>m&&(f=c.getPositiveAngle(h-i)/a*(n-e)),!l){const t=c.getPositiveAngle(i-m);t<=a&&(f=t*(n-e)/a)}return null!=f&&(f=Math.round(f/r)*r),f}(t,u,o,p,D,v,$,U,S)},V,k.onCommit,k.onInput),L=d.useKeyboardEvents(g,u,o,p,k.onCommit,k.onInput),{datatipContent:W,datatipProps:K}=d.useMeterDatatip(g,k.datatip,k.ariaDescribedBy),X=c.getMeterAriaProps(g,u,o,`${g}`,k.accessibleLabel,k.ariaLabelledBy,k.thresholds),Y=a.mergeProps(H,L,K,X),{trackColor:G,indicatorColor:J}=c.getTrackAndIndicatorColor(g,N,k.trackColor,k.indicatorColor,k.thresholds),Q="bottom"===U||"top"===U?"Horizontal":"left"===U||"right"===U?"Vertical":"Full",Z={min:u,max:o,value:g,startAngle:v,angleExtent:$,size:R,section:U,isRtl:S,innerRadius:D.current.innerRadius},tt=k.onCommit||k.onInput,{isTabbable:et}=h.useTabbableMode(),nt=function(t,e){const n=t.current;if(!n)return;const r=c.getCenterCoord(e),s=r.x*n.width,i=r.y*n.height;let a,o,l,u,d,h,m,f;return"top"===e||"bottom"===e||"full"===e?(m=2*n.innerRadius,f="full"===e?2*n.innerRadius:n.innerRadius,d=s-n.innerRadius,h="bottom"===e?0:i-n.innerRadius,l=Math.sqrt(2)*n.innerRadius,u="full"===e?l:n.innerRadius/Math.sqrt(2),a=s-n.innerRadius/Math.sqrt(2),o="bottom"===e?0:i-n.innerRadius/Math.sqrt(2)):(f=2*n.innerRadius,m=n.innerRadius,d="left"===e?s-n.innerRadius:0,h=i-n.innerRadius,u=Math.sqrt(2)*n.innerRadius,l=n.innerRadius/Math.sqrt(2),a="left"===e?s-n.innerRadius/Math.sqrt(2):0,o=i-n.innerRadius/Math.sqrt(2)),{outerBounds:{x:d,y:h,width:m,height:f},innerBounds:{x:a,y:o,width:l,height:u}}}(D,U);return n.jsxs(n.Fragment,{children:[n.jsx("div",Object.assign({class:m.classNames([O.base,tt?O.interactive:""]),tabIndex:et?0:-1,role:"slider"},Y,{children:n.jsxs(l.CircleWrapper,Object.assign({ref:V,class:m.classNames([T.base,k.referenceLines&&k.referenceLines.length>0?A[`${R}${U}`]:"",A[`${R}${Q}`]])},{children:[n.jsx(l.CircleInner,Object.assign({class:m.classNames([I.base,A[U]])},z(Z,P,N,G,k.innerRadius,k.thresholds))),"all"===N&&k.thresholds&&j(Z,k.thresholds,P,G,k.innerRadius).map(t=>n.jsx(l.CircleInner,Object.assign({class:m.classNames([I.base,A[U],A.thresholds])},t))),n.jsx(l.CircleInner,Object.assign({color:J,class:m.classNames([w.base,w[U],A[U]])},E(Z,q,k.innerRadius))),null===(s=k.referenceLines)||void 0===s?void 0:s.map(t=>n.jsx(f,Object.assign({},function(t,e,n){const{min:r,max:s,startAngle:i,angleExtent:a,size:o,isRtl:l}=t;return{radius:_(o,n),length:C(o,n),angle:x(e.value,r,s,i,a,l),color:e.color}}(Z,t,k.innerRadius),{section:U}))),F&&k.children&&nt&&n.jsx("div",Object.assign({class:m.classNames([A.centerContent,M])},{children:k.children(nt)}))]}))})),W]})}});
//# sourceMappingURL=MeterCircle-4d38a593.js.map
