define(["exports","preact/jsx-runtime","preact/hooks","preact/compat","./index-8215ac99","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useUser"],function(t,e,i,n,o,s,r,l){"use strict";const a=n.forwardRef(({},t)=>e.jsxs("div",Object.assign({ref:t},{children:[" ",e.jsx("div",{})," "]})));const c=n.forwardRef(({children:t,onClickOutside:n,placement:c="bottom",anchorRef:u,offsetValue:d,class:f,tail:p="none",flipOptions:h={mainAxis:!0,crossAxis:!1},shiftOptions:m={mainAxis:!0,crossAxis:!1},sizeOptions:g={isMaxHeightAdjusted:!1,isMaxWidthAdjusted:!1},boundaryOptions:x={padding:0},onPosition:b},A)=>{const v=i.useRef(null),[j,y]=i.useState(null);i.useLayoutEffect(()=>{y(u.current)},[]),u.current!==j&&y(u.current);const{direction:O}=l.useUser(),M="rtl"===O,R=i.useCallback(t=>{!function(t,e,i,n,o){var s,r;if("simple"===n&&t.arrow){const{x:n,y:l,centerOffset:a}=t.arrow,c=i.current,u=7,d=6,f=null===(s=i.current)||void 0===s?void 0:s.querySelector("div"),p=5,h=5,m={position:"absolute",width:"0px",height:"0px"};let g=0,x=0;const b=e.current,A=void 0===(null==b?void 0:b.x)&&void 0===(null==b?void 0:b.y);A&&(g=Math.round(b.getBoundingClientRect().height),x=Math.round(null===(r=e.current)||void 0===r?void 0:r.getBoundingClientRect().width));const v=A?Math.abs(a)>=g/2-u/2:["start-top-corner","start-bottom-corner","end-top-corner","end-bottom-corner"].includes(t.origPlacement),j=A?Math.abs(a)>=x/2-u/2:["top-start-corner","top-end-corner","bottom-start-corner","bottom-end-corner"].includes(t.origPlacement),y=0===a,O=a>0;function M(t){const e=t?d:u;k({borderTop:`${C(e)} solid rgba(var(--oj-c-PRIVATE-DO-NOT-USE-palette-neutral-rgb-90), 0.1)`,borderRight:$(e),borderLeft:$(e)});const i=t?h:p;w({borderTop:`${C(i)} solid var(--oj-c-PRIVATE-DO-NOT-USE-popup-bg-color)`,borderRight:`${$(i)}`,borderLeft:`${$(i)}`})}function R(t,e){Object.assign(null==e?void 0:e.style,t)}function k(t){R(t,c)}function w(t){R(t,f)}function E(t){return`rotate(${45*t}deg)`}function C(t){return`${t}px`}function $(t){return`${C(t)} solid transparent`}switch(R(m,c),R(m,f),M(v||j),t.placement.split("-")[0]){case"top":P();break;case"end":o?H():T();break;case"bottom":U();break;case"start":o?T():H()}function P(){null!=n&&(j?(k({top:"",bottom:C(2-u),left:C(n+(O?5:-5)),transform:E(O?5:3)}),S()):(k({top:"",bottom:C(-u),left:C(y?n:n+(O?1:-1)),transform:E(0)}),W()))}function T(){null!=l&&(v?(k({top:C(l+(O?2:-2)),right:"",left:C(-u-1),transform:E(O?7:5)}),S()):(k({top:C(y?l:l+(O?-2:2)),right:"",left:C(1.5*-u),transform:E(2)}),W()))}function U(){null!=n&&(j?(k({top:C(3-u),bottom:"",left:C(n+(O?4:-4)),transform:E(O?2:6)}),w({top:C(-p),left:C((O?1:-1)-p)})):(k({top:C(-u),bottom:"",left:C(y?n:n+(O?1:-1)),transform:E(4)}),W()))}function H(){null!=l&&(v?(k({top:C(l+(O?2:-2)),right:C(-u-1),left:"",transform:E(O?1:3)}),w({top:C(-p),left:C((O?-2:2)-p)})):(k({top:C(y?l:l+(O?-2:2)),right:C(1.5*-u),left:"",transform:E(6)}),W()))}function S(){w({top:C(-p),left:C((O?2:-2)-p)})}function W(){w({top:C(-p-2),left:C(-p)})}}}(t,u,v,p,M),null==b||b(t)},[c,u,v,p,b]),k=[o.offset(d),o.b({mainAxis:h.mainAxis,crossAxis:h.crossAxis,padding:x.padding}),o.D({mainAxis:m.mainAxis,crossAxis:m.crossAxis,limiter:o.L({mainAxis:m.mainAxis,crossAxis:m.crossAxis})}),...v.current?[o.m({element:v.current})]:[]];(g.isMaxHeightAdjusted||g.isMaxWidthAdjusted)&&k.push(o.k({apply({availableWidth:t,availableHeight:e,elements:i}){g.isMaxHeightAdjusted&&Object.assign(i.floating.style,{maxHeight:`${Math.min(e,g.maxHeightCeiling||e)}px`}),g.isMaxWidthAdjusted&&Object.assign(i.floating.style,{maxWidth:`${Math.min(t,g.maxWidthCeiling||t)}px`})},padding:x.padding}));const{x:w,y:E,reference:C,floating:$,refs:P}=o.useFloating({placement:c,middleware:k,whileElementsMounted:o.N,onPosition:R});r.useOutsideClick({isDisabled:!1,ref:P.floating,handler:n}),i.useLayoutEffect(()=>{if(j instanceof Element){return void C(j)}const t=j,e={getBoundingClientRect:()=>({width:0,height:0,x:t.x,y:t.y,top:t.y,left:t.x,right:t.x,bottom:t.y})};t&&null!=t.x&&C(e)},[j,C]);const T=i.useMemo(()=>s.mergeRefs(A,$),[A,$]);return e.jsxs("div",Object.assign({class:f,ref:T,style:{display:"block",visibility:null==w&&null==E?"hidden":"visible",position:"absolute",top:null!=E?E:"",left:null!=w?w:"",width:"auto",height:"auto"}},{children:[t,e.jsx(a,{ref:v})]}))});t.Floating=c});
//# sourceMappingURL=Floating-2dad3061.js.map
