define(["require","preact/jsx-runtime","@testing-library/preact","preact/hooks","chai","../../UNSAFE_InputPassword","../../UNSAFE_Environment","../../utils/UNSAFE_matchTranslationBundle","../../UNSAFE_InputText","../../UNSAFE_NumberInputText","../../UNSAFE_TextArea","../../UNSAFE_TextAreaAutosize","../../NumberInputText-e2f324e5","../../TextArea-eb8899f9","../../TextAreaAutosize-eecfaccb","preact/compat","../../hooks/UNSAFE_useFocusableTextField","../../tslib.es6-d8595453","../../hooks/UNSAFE_useFocusWithin","../../useFocusWithin-f0637e98","../../hooks/UNSAFE_useFormContext","preact","../../hooks/UNSAFE_useFormFieldContext","../../hooks/UNSAFE_useTextField","../../hooks/UNSAFE_useId","../../hooks/UNSAFE_useHover","../../hooks/UNSAFE_useToggle","../../UNSAFE_Label","../../utils/UNSAFE_classNames","../../classNames-b7cf3c05",'module',"../../UNSAFE_TextField","../../ReadonlyTextFieldInput-dc6c2c66","../../hooks/UNSAFE_useTabbableMode","../../utils/UNSAFE_interpolations/text","../../keys-f8c00540","../../_curry1-67906f4c","../../_has-83207242","../../utils/UNSAFE_mergeInterpolations","../../_curry3-9a7f6d78","../../_curry2-fc31d1f8","../../FormControlUtils-e845e376","../../hooks/UNSAFE_useTranslationBundle","../../UNSAFE_Layer","../../UNSAFE_LabelValueLayout","../../UNSAFE_Flex","../../Flex-b68a7b84","../../utils/UNSAFE_interpolations/dimensions","../../utils/UNSAFE_arrayUtils","../../utils/UNSAFE_size","../../utils/UNSAFE_interpolations/boxalignment","../../utils/UNSAFE_interpolations/flexbox","../../flexbox-5d0f6a63","../../utils/UNSAFE_interpolations/flexitem","../../flexitem-c53d7893","../../TextFieldInput-33f53d8f","../../hooks/UNSAFE_useTextFieldInputHandlers","../../utils/PRIVATE_clientHints","../../clientHints-0d38de57","../../hooks/UNSAFE_useDebounce","../../UNSAFE_LiveRegion","../../UNSAFE_UserAssistance","../../InlineHelpSource-0ea4f6bc","../../UNSAFE_ComponentMessage","../../ComponentMessage-f2269c89","../../PRIVATE_Message","../../utils/PRIVATE_timer","../../MessageCloseButton-2fee9efb","../../UNSAFE_Button","../../Button-47193722","../../UNSAFE_BaseButton","../../BaseButton-1b45961f","../../hooks/UNSAFE_usePress","../../hooks/UNSAFE_useActive","../../utils/UNSAFE_mergeProps","../../index-922123b9","../../index-bd5b8cf5","../../UNSAFE_Icon","../../Icon-497347c9","../../hooks/UNSAFE_useTooltip","../../UNSAFE_Floating","../../Floating-2dad3061","../../index-8215ac99","../../hooks/UNSAFE_useUser","../../utils/PRIVATE_floatingUtils","../../utils/PRIVATE_refUtils","../../hooks/UNSAFE_useOutsideClick","../../hooks/UNSAFE_useFocus","../../hooks/UNSAFE_useTouch","../../hooks/UNSAFE_useAnimation","../../useAnimation-72dcd02d","../../hooks/UNSAFE_useTheme","../../MessageDetail-a6955705","../../MessageFormattingUtils-9c94aad3","../../utils/UNSAFE_getLocale","../../utils/UNSAFE_stringUtils","../../stringUtils-9fd51f79","../../Message.types-fe0cd4a5","../../MessageStartIcon-843ab57e","../../MessageSummary-29641f35","../../MessageTimestamp-59128dbb","../../MessageUtils-ba76366b","../../utils/UNSAFE_logger","../../utils/UNSAFE_soundUtils","../../MessagesManager-762835da","../../PRIVATE_TransitionGroup","../../hooks/UNSAFE_useMessagesContext","../../UNSAFE_HiddenAccessible","../../HiddenAccessible-30baa563","../../ComponentMessageContainer-c5cc5051","../../hooks/UNSAFE_useClearIcon","../../utils/UNSAFE_componentUtils","../../ClearIcon-09f9e74a","../../hooks/UNSAFE_useCurrentValueReducer","../../hooks/UNSAFE_useLengthFilter","../../utils/UNSAFE_lengthFilter","../../hooks/UNSAFE_usePrefixSuffix","../../UNSAFE_PrefixSuffix","../../UNSAFE_Grid","../../utils/UNSAFE_interpolations/grid"],function(e,t,n,s,o,r,l,c,a,u,i,d,m,b,h,x,f,v,p,E,g,S,k,C,A,F,y,U,_,w,P,N,j,q,T,I,O,L,M,R,B,D,H,z,W,$,V,X,G,J,K,Q,Y,Z,ee,te,ne,se,oe,re,le,ce,ae,ue,ie,de,me,be,he,xe,fe,ve,pe,Ee,ge,Se,ke,Ce,Ae,Fe,ye,Ue,_e,we,Pe,Ne,je,qe,Te,Ie,Oe,Le,Me,Re,Be,De,He,ze,We,$e,Ve,Xe,Ge,Je,Ke,Qe,Ye,Ze,et,tt,nt,st,ot,rt,lt,ct,at,ut,dt,mt){"use strict";function bt({hasClearIcon:e,label:n}){const[o,l]=s.useState("hello"),[c,a]=s.useState(0),[u,i]=s.useState("hello"),d=s.useCallback(e=>{var t;l(null!==(t=e.value)&&void 0!==t?t:"")},[]),m=s.useCallback(e=>{var t;a(e=>e+1),i(null!==(t=e.value)&&void 0!==t?t:"")},[]);return t.jsxs(t.Fragment,{children:[t.jsx(r.InputPassword,{hasClearIcon:e,label:n,onCommit:m,onInput:d,value:o}),t.jsx("span",Object.assign({class:"testcommittedcountclass"},{children:c})),t.jsx("span",Object.assign({class:"testcommittedvalueclass"},{children:u})),t.jsx("button",Object.assign({class:"testclickmebutton",onClick:()=>l("goodbye")},{children:"Click me"}))]})}function ht({hasClearIcon:e,label:n,maxLength:o}){const[r,l]=s.useState("hello"),[c,u]=s.useState(0),[i,d]=s.useState("hello"),m=s.useCallback(e=>{var t;l(null!==(t=e.value)&&void 0!==t?t:"")},[]),b=s.useCallback(e=>{var t;u(e=>e+1),d(null!==(t=e.value)&&void 0!==t?t:"")},[]);return t.jsxs(t.Fragment,{children:[t.jsx(a.InputText,{hasClearIcon:e,label:n,maxLength:o,onCommit:b,onInput:m,value:r}),t.jsx("span",Object.assign({class:"testcommittedcountclass"},{children:c})),t.jsx("span",Object.assign({class:"testcommittedvalueclass"},{children:i})),t.jsx("button",Object.assign({class:"testclickmebutton",onClick:()=>l("goodbye")},{children:"Click me"}))]})}function xt({label:e,maxLength:n}){const[o,r]=s.useState("hello"),[l,c]=s.useState(0),[a,u]=s.useState("hello"),i=s.useCallback(e=>{var t;r(null!==(t=e.value)&&void 0!==t?t:"")},[]),d=s.useCallback(e=>{var t;c(e=>e+1),u(null!==(t=e.value)&&void 0!==t?t:"")},[]);return t.jsxs(t.Fragment,{children:[t.jsx(b.TextArea,{label:e,maxLength:n,onCommit:d,onInput:i,value:o}),t.jsx("span",Object.assign({class:"testcommittedcountclass"},{children:l})),t.jsx("span",Object.assign({class:"testcommittedvalueclass"},{children:a})),t.jsx("button",Object.assign({class:"testclickmebutton",onClick:()=>r("goodbye")},{children:"Click me"}))]})}function ft({label:e,maxLength:n}){const[o,r]=s.useState("hello"),[l,c]=s.useState(0),[a,u]=s.useState("hello"),i=s.useCallback(e=>{var t;r(null!==(t=e.value)&&void 0!==t?t:"")},[]),d=s.useCallback(e=>{var t;c(e=>e+1),u(null!==(t=e.value)&&void 0!==t?t:"")},[]);return t.jsxs(t.Fragment,{children:[t.jsx(h.TextAreaAutosize,{label:e,maxLength:n,onCommit:d,onInput:i,value:o}),t.jsx("span",Object.assign({class:"testcommittedcountclass"},{children:l})),t.jsx("span",Object.assign({class:"testcommittedvalueclass"},{children:a})),t.jsx("button",Object.assign({class:"testclickmebutton",onClick:()=>r("goodbye")},{children:"Click me"}))]})}async function vt(){const t=c.matchTranslationBundle(["en"],new Set(["en-US","en"])),{default:n}=await function(t){switch(t){case"../../resources/nls/ar/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ar/bundle"],t,n)});case"../../resources/nls/ar-XB/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ar-XB/bundle"],t,n)});case"../../resources/nls/bg/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/bg/bundle"],t,n)});case"../../resources/nls/bs/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/bs/bundle"],t,n)});case"../../resources/nls/bs-Cyrl/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/bs-Cyrl/bundle"],t,n)});case"../../resources/nls/cs/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/cs/bundle"],t,n)});case"../../resources/nls/da/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/da/bundle"],t,n)});case"../../resources/nls/de/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/de/bundle"],t,n)});case"../../resources/nls/el/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/el/bundle"],t,n)});case"../../resources/nls/en/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/en/bundle"],t,n)});case"../../resources/nls/en-XA/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/en-XA/bundle"],t,n)});case"../../resources/nls/en-XC/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/en-XC/bundle"],t,n)});case"../../resources/nls/es/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/es/bundle"],t,n)});case"../../resources/nls/et/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/et/bundle"],t,n)});case"../../resources/nls/fi/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/fi/bundle"],t,n)});case"../../resources/nls/fr/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/fr/bundle"],t,n)});case"../../resources/nls/fr-CA/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/fr-CA/bundle"],t,n)});case"../../resources/nls/he/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/he/bundle"],t,n)});case"../../resources/nls/hr/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/hr/bundle"],t,n)});case"../../resources/nls/hu/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/hu/bundle"],t,n)});case"../../resources/nls/is/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/is/bundle"],t,n)});case"../../resources/nls/it/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/it/bundle"],t,n)});case"../../resources/nls/ja/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ja/bundle"],t,n)});case"../../resources/nls/ko/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ko/bundle"],t,n)});case"../../resources/nls/lt/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/lt/bundle"],t,n)});case"../../resources/nls/lv/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/lv/bundle"],t,n)});case"../../resources/nls/ms/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ms/bundle"],t,n)});case"../../resources/nls/nl/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/nl/bundle"],t,n)});case"../../resources/nls/no/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/no/bundle"],t,n)});case"../../resources/nls/pl/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/pl/bundle"],t,n)});case"../../resources/nls/pt/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/pt/bundle"],t,n)});case"../../resources/nls/pt-PT/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/pt-PT/bundle"],t,n)});case"../../resources/nls/ro/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ro/bundle"],t,n)});case"../../resources/nls/ru/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/ru/bundle"],t,n)});case"../../resources/nls/sk/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/sk/bundle"],t,n)});case"../../resources/nls/sl/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/sl/bundle"],t,n)});case"../../resources/nls/sr/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/sr/bundle"],t,n)});case"../../resources/nls/sr-Latn/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/sr-Latn/bundle"],t,n)});case"../../resources/nls/sv/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/sv/bundle"],t,n)});case"../../resources/nls/th/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/th/bundle"],t,n)});case"../../resources/nls/tr/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/tr/bundle"],t,n)});case"../../resources/nls/uk/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/uk/bundle"],t,n)});case"../../resources/nls/vi/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/vi/bundle"],t,n)});case"../../resources/nls/zh-Hans/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/zh-Hans/bundle"],t,n)});case"../../resources/nls/zh-Hant/bundle.ts":return new Promise(function(t,n){e(["../../resources/nls/zh-Hant/bundle"],t,n)});default:return new Promise(function(e,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}(`../../resources/nls/${t}/bundle.ts`);return{translations:{"@oracle/oraclejet-preact":n}}}const pt=[{name:"InputPassword",component:bt},{name:"InputText",component:ht},{name:"NumberInputText",component:function({label:e}){const[n,o]=s.useState("hello"),[r,l]=s.useState(0),[c,a]=s.useState("hello"),u=s.useCallback(e=>{var t;o(null!==(t=e.value)&&void 0!==t?t:"")},[]),i=s.useCallback(e=>{var t;l(e=>e+1),a(null!==(t=e.value)&&void 0!==t?t:"")},[]);return t.jsxs(t.Fragment,{children:[t.jsx(m.NumberInputText,{label:e,onCommit:i,onInput:u,value:n}),t.jsx("span",Object.assign({class:"testcommittedcountclass"},{children:r})),t.jsx("span",Object.assign({class:"testcommittedvalueclass"},{children:c})),t.jsx("button",Object.assign({class:"testclickmebutton",onClick:()=>o("goodbye")},{children:"Click me"}))]})}},{name:"TextArea",component:xt},{name:"TextAreaAutosize",component:ft}],Et=[{name:"InputPassword",component:bt},{name:"InputText",component:ht}],gt=[{name:"InputText",component:ht},{name:"TextArea",component:xt},{name:"TextAreaAutosize",component:ft}];describe("Form Controls - onCommit",()=>{let e;beforeEach(async function(){e=await vt()}),pt.forEach(s=>it(`${s.name}: test initial value`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"test initial value"})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello")})),pt.forEach(s=>it(`${s.name} test blur should not call onCommit`,async()=>{const{container:r}=n.render(t.jsxs(l.RootEnvironmentProvider,Object.assign({environment:e},{children:[t.jsx(s.component,{label:"field label"}),t.jsx("button",{})]}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testclickmebutton");n.act(()=>{a.focus()}),n.act(()=>{i.focus()}),o.expect(null==u?void 0:u.textContent,"blur without editing, onCommit count should be 0").to.equal("0")})),pt.forEach(s=>it(`${s.name}: test Enter Enter Enter should not call onCommit`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"field label"})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testcommittedvalueclass");o.expect(null==i?void 0:i.textContent,"initial render committed value").to.equal("hello"),o.expect(null==u?void 0:u.textContent,"initial render, check onCommit count").to.equal("0"),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),o.expect(null==u?void 0:u.textContent,"Press Enter, check onCommit count").to.equal("0"),o.expect(null==i?void 0:i.textContent,"after Enter, committed value").to.equal("hello")})),Et.forEach(s=>it(`${s.name} test click Clear Icon clears display value, Enter Enter Enter commits value once`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"field label",hasClearIcon:"always"})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testcommittedvalueclass"),d=r.querySelector('[title="Clear"]');o.expect(d,"clear icon found").not.null,d&&n.fireEvent.click(d),o.expect(a.value,"after click clear icon, input value").to.equal(""),o.expect(null==i?void 0:i.textContent,"after click icon, committed value not changed").to.equal("hello"),o.expect(null==u?void 0:u.textContent,"clicked clear icon, check onCommit count").to.equal("0"),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),o.expect(null==u?void 0:u.textContent,"Press Enter a few times after clear icon").to.equal("1"),o.expect(null==i?void 0:i.textContent,"after click icon and Enter, committed value").to.equal("")})),Et.forEach(s=>it(`${s.name}: test click Clear Icon clears display value, blur commits value`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"field label",hasClearIcon:"always"})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testcommittedvalueclass"),d=r.querySelector(".testclickmebutton"),m=r.querySelector('[title="Clear"]');o.expect(m,"clear icon found").not.null,m&&n.fireEvent.click(m),o.expect(a.value,"after click clear icon, input value").to.equal(""),o.expect(null==i?void 0:i.textContent,"after click icon, committed value not changed").to.equal("hello"),o.expect(null==u?void 0:u.textContent,"clicked clear icon, check onCommit count").to.equal("0"),n.act(()=>{d.focus()}),o.expect(null==u?void 0:u.textContent,"after click icon and blur, onCommit count should be increased to 1").to.equal("1"),o.expect(null==i?void 0:i.textContent,"after click icon and blur, committed value").to.equal("")})),pt.forEach(s=>it(`${s.name}: test programmatic value change does not call onCommit`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"programmatic change",hasClearIcon:"never"})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testcommittedvalueclass"),d=r.querySelector(".testclickmebutton");n.act(()=>{n.fireEvent.click(d)}),o.expect(a.value,"display value after programmatic change").to.equal("goodbye"),o.expect(null==u?void 0:u.textContent,"after programmatic change, onCommit is not called").to.equal("0"),o.expect(null==i?void 0:i.textContent,"after programmatic change, committed value is not changed").to.equal("hello"),n.fireEvent.keyDown(a,{key:"Enter",code:"Enter",charCode:13}),o.expect(null==u?void 0:u.textContent,"after programmatic change, onCommit is not called").to.equal("0")})),gt.forEach(s=>it(`${s.name} test programmatic value change with < maxlength does not call onCommit`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"programmatic change",maxLength:30})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testcommittedvalueclass"),d=r.querySelector(".testclickmebutton");n.act(()=>{n.fireEvent.click(d)}),o.expect(a.value,"display value after programmatic change").to.equal("goodbye"),o.expect(null==u?void 0:u.textContent,"after programmatic change, onCommit is not called").to.equal("0"),o.expect(null==i?void 0:i.textContent,"after programmatic change, committed value is not changed").to.equal("hello")})),gt.forEach(s=>it(`${s.name}: test programmatic value change with > maxlength does call onCommit`,async()=>{const{container:r}=n.render(t.jsx(l.RootEnvironmentProvider,Object.assign({environment:e},{children:t.jsx(s.component,{label:"programmatic change",maxLength:6})}))),c=s.name.startsWith("Text")?"textarea":"input",a=r.querySelector(c);o.expect(a.value).equal("hello");const u=r.querySelector(".testcommittedcountclass"),i=r.querySelector(".testcommittedvalueclass"),d=r.querySelector(".testclickmebutton");n.act(()=>{n.fireEvent.click(d)}),o.expect(a.value,"display value after programmatic change").to.equal("goodby"),o.expect(null==u?void 0:u.textContent,"after programmatic change when maxLength filter kicks in, onCommit is called").to.equal("1"),o.expect(null==i?void 0:i.textContent,"after programmatic change when maxLength filter kicks in, committed value is changed").to.equal("goodby")})),afterEach(n.cleanup)})});
//# sourceMappingURL=FormControlCommit.spec.js.map
