{"version":3,"file":"MessagesManager.spec.js","sources":["../../../../src/PRIVATE_Message/__tests__/MessagesManager.spec.tsx"],"sourcesContent":["import { render } from '@testing-library/preact';\nimport { expect } from 'chai';\nimport { MessagesManager } from '../MessagesManager';\n\nconst DATA = [\n  {\n    key: 'ErrorMessage',\n    data: {\n      severity: 'error',\n      summary: 'Primary Text',\n      detail:\n        'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n      closeAffordance: 'on',\n      timestamp: new Date().toISOString()\n    }\n  },\n  {\n    key: 'WarningMessage',\n    data: {\n      severity: 'warning',\n      summary: 'Primary Text',\n      detail:\n        'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n      closeAffordance: 'on',\n      timestamp: new Date().toISOString()\n    }\n  },\n  {\n    key: 'ConfirmationMessage',\n    data: {\n      severity: 'confirmation',\n      summary: 'Primary Text',\n      detail:\n        'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n      closeAffordance: 'on',\n      timestamp: new Date().toISOString()\n    }\n  },\n  {\n    key: 'InfoMessage',\n    data: {\n      severity: 'info',\n      summary: 'Primary Text',\n      detail:\n        'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n      closeAffordance: 'on',\n      timestamp: new Date().toISOString()\n    }\n  }\n];\n\ndescribe('Test MessagesManager component', () => {\n  it('child renderer', async function () {\n    const content = render(\n      <MessagesManager data={DATA}>\n        {({ index, item }) => (\n          <div\n            style=\"border: 1px solid gray; padding: 5px; background-color: orange;\"\n            data-testid={item.key}>\n            <div>index: {index}</div>\n            <div>key: {item.key}</div>\n            <div>severity: {item.data.severity}</div>\n            <div>summary: {item.data.summary}</div>\n            <div>detail: {item.data.detail}</div>\n            <div>timestamp: {item.data.timestamp}</div>\n          </div>\n        )}\n      </MessagesManager>\n    );\n\n    // since the function we're passing to Array.map is async, we need to wait on all\n    // those return promises before continuing, hence the \"await Promise.all()\"\n    await Promise.all(\n      DATA.map(async (item) => {\n        const message = await content.findByTestId(item.key);\n        expect(message).not.null;\n        expect(message.style.backgroundColor).to.equal('orange');\n\n        // just look for a single field as an example, no need to find every field\n        const sevElem = await content.findByText(`severity: ${item.data.severity}`);\n        expect(sevElem).not.null;\n      })\n    );\n  });\n});\n"],"names":["DATA","key","data","severity","summary","detail","closeAffordance","timestamp","Date","toISOString","describe","it","async","content","render","_jsx","MessagesManager","Object","assign","children","index","item","_jsxs","style","Promise","all","map","message","findByTestId","expect","not","null","backgroundColor","to","equal","sevElem","findByText"],"mappings":"wUAIA,MAAMA,EAAO,CACX,CACEC,IAAK,eACLC,KAAM,CACJC,SAAU,QACVC,QAAS,eACTC,OACE,wJACFC,gBAAiB,KACjBC,WAAW,IAAIC,MAAOC,gBAG1B,CACER,IAAK,iBACLC,KAAM,CACJC,SAAU,UACVC,QAAS,eACTC,OACE,wJACFC,gBAAiB,KACjBC,WAAW,IAAIC,MAAOC,gBAG1B,CACER,IAAK,sBACLC,KAAM,CACJC,SAAU,eACVC,QAAS,eACTC,OACE,wJACFC,gBAAiB,KACjBC,WAAW,IAAIC,MAAOC,gBAG1B,CACER,IAAK,cACLC,KAAM,CACJC,SAAU,OACVC,QAAS,eACTC,OACE,wJACFC,gBAAiB,KACjBC,WAAW,IAAIC,MAAOC,iBAK5BC,SAAS,iCAAkC,KACzCC,GAAG,iBAAkBC,iBACnB,MAAMC,EAAUC,EAAMA,OACpBC,MAACC,EAAAA,gBAAeC,OAAAC,OAAA,CAAChB,KAAMF,GACpB,CAAAmB,SAAA,EAAGC,MAAAA,EAAOC,KAAAA,KACTC,EAAAA,KAAA,MAAAL,OAAAC,OAAA,CACEK,MAAM,kEACO,cAAAF,EAAKpB,gBAClBqB,OAAa,MAAA,CAAAH,SAAA,CAAA,UAAAC,KACbE,gCAAWD,EAAKpB,OAChBqB,EAAAA,KAAgB,MAAA,CAAAH,SAAA,CAAA,aAAAE,EAAKnB,KAAKC,YAC1BmB,EAAAA,KAAA,MAAA,CAAAH,SAAA,CAAA,YAAeE,EAAKnB,KAAKE,WACzBkB,EAAAA,KAAA,MAAA,CAAAH,SAAA,CAAA,WAAcE,EAAKnB,KAAKG,UACxBiB,EAAAA,oCAAiBD,EAAKnB,KAAKK,2BAQ7BiB,QAAQC,IACZzB,EAAK0B,IAAId,MAAOS,IACd,MAAMM,QAAgBd,EAAQe,aAAaP,EAAKpB,KAChD4B,EAAAA,OAAOF,GAASG,IAAIC,KACpBF,EAAMA,OAACF,EAAQJ,MAAMS,iBAAiBC,GAAGC,MAAM,UAG/C,MAAMC,QAAgBtB,EAAQuB,WAAW,aAAaf,EAAKnB,KAAKC,YAChE0B,EAAAA,OAAOM,GAASL,IAAIC"}