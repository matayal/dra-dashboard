define(["exports","preact/jsx-runtime","preact/hooks","./hooks/PRIVATE_useMessagesFocusManager","./PRIVATE_Message","./UNSAFE_Flex","./UNSAFE_LiveRegion","./Flex-b68a7b84","./MessagesManager-762835da","./MessageUtils-ba76366b",'module',"./utils/PRIVATE_timer","./utils/UNSAFE_classNames","./classNames-b7cf3c05","./MessageCloseButton-2fee9efb","./UNSAFE_Button","./Button-47193722","./UNSAFE_BaseButton","./BaseButton-1b45961f","./tslib.es6-d8595453","./hooks/UNSAFE_usePress","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useActive","preact/compat","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_arrayUtils","./utils/UNSAFE_size","./_curry1-67906f4c","./utils/UNSAFE_mergeInterpolations","./_curry3-9a7f6d78","./_curry2-fc31d1f8","./_has-83207242","./utils/PRIVATE_clientHints","./clientHints-0d38de57","./hooks/UNSAFE_useTabbableMode","preact","./utils/UNSAFE_mergeProps","./index-922123b9","./index-bd5b8cf5","./UNSAFE_Icon","./Icon-497347c9","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useId","./UNSAFE_Floating","./Floating-2dad3061","./index-8215ac99","./hooks/UNSAFE_useUser","./UNSAFE_Environment","./UNSAFE_Layer","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-72dcd02d","./hooks/UNSAFE_useTheme","./MessageDetail-a6955705","./MessageFormattingUtils-9c94aad3","./utils/UNSAFE_getLocale","./utils/UNSAFE_stringUtils","./stringUtils-9fd51f79","./Message.types-fe0cd4a5","./MessageStartIcon-843ab57e","./MessageSummary-29641f35","./MessageTimestamp-59128dbb","./utils/UNSAFE_interpolations/boxalignment","./keys-f8c00540","./utils/UNSAFE_interpolations/flexbox","./flexbox-5d0f6a63","./utils/UNSAFE_interpolations/flexitem","./flexitem-c53d7893","./utils/UNSAFE_logger","./utils/UNSAFE_soundUtils","./PRIVATE_TransitionGroup","./hooks/UNSAFE_useMessagesContext"],function(e,s,t,n,o,i,a,l,r,u,c,g,d,h,_,f,F,A,E,U,S,m,N,x,b,v,p,k,M,R,y,T,I,j,H,B,P,C,w,O,V,L,z,$,D,G,K,W,q,J,Q,X,Y,Z,ee,se,te,ne,oe,ie,ae,le,re,ue,ce,ge,de,he,_e,fe,Fe,Ae,Ee,Ue,Se,me,Ne){"use strict";const xe={entering:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"},options:{duration:250},end:{maxHeight:"none",overflow:"initial"}}),exiting:e=>Object.assign(Object.assign({},"none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"}}),{to:{maxHeight:0,overflow:"hidden"},end:{maxHeight:0,overflow:"hidden"},options:{duration:250}})},be={maxHeight:0,overflow:"hidden"};e.MessageBanner=function({closeButtonRenderer:e,detailRendererKey:i,data:c,onClose:g,renderers:d,translations:h,type:_="section"}){const f=t.useRef(new Map),F=t.useRef(null),A=t.useRef(null),[E,U]=t.useState(),[S,m]=t.useState(c.length>0),N=t.useRef(c.length),x=t.useRef(0);N.current=c.length;const b=t.useCallback(e=>s=>f.current.set(e,s),[]);t.useImperativeHandle(A,()=>({focus:()=>{var e;if(c.length){const s=c[0].key;return null===(e=f.current.get(s))||void 0===e||e.focus(),!0}return!1},contains:e=>{var s,t;return!(!c.length||!e)&&(null!==(t=null===(s=F.current)||void 0===s?void 0:s.contains(e))&&void 0!==t&&t)}}),[c]);const{controller:v,handlers:p}=n.useMessageFocusManager(A,{onFocus:t.useCallback(()=>{U(null==h?void 0:h.navigationFromMessagesRegion)},[U,h])}),k=t.useCallback(e=>{null==g||g(e)},[g]),M=t.useCallback((e,s,t)=>{var n;const o=null==t?void 0:t.contains(document.activeElement);if(0===N.current)return m(!1),void(o&&v.restorePriorFocus());const i=s+1<c.length?s+1:s-1;if(i>-1&&o){const e=c[i].key;null===(n=f.current.get(e))||void 0===n||n.focus()}},[v,c]);return t.useEffect(()=>{c.length?(m(!0),c.length>x.current&&U(null==h?void 0:h.navigationToMessagesRegion),v.prioritize()):U(""),x.current=c.length},[v,c,h]),S||0!==c.length?s.jsx("div",Object.assign({ref:F,class:"oj-c-messagebanner",tabIndex:-1},p,{children:s.jsxs(l.Flex,Object.assign({direction:"column",gap:"section"===_?"1x":void 0},{children:[s.jsx(r.MessagesManager,Object.assign({animationStates:xe,initialAnimationStyles:be,data:c,onMessageWillRemove:M},{children:({index:t,item:n})=>s.jsx(o.Message,{messageRef:b(n.key),item:n,closeButtonRenderer:e,detailRenderer:u.getRenderer(n,i,d),index:t,variant:"page"===_?"pageBanner":"sectionBanner",onClose:k,translations:h},n.key)})),s.jsx(a.LiveRegion,{children:E})]}))})):null},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_MessageBanner.js.map
