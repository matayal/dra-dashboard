define(["require","../../tslib.es6-d8595453","preact/jsx-runtime","@testing-library/preact","chai","preact/hooks","sinon","../../UNSAFE_Environment","../../utils/UNSAFE_matchTranslationBundle","../../MessageToast-207fe6fe","preact","../../UNSAFE_Layer","preact/compat","css!./../../UNSAFE_MessageToast.css","../../hooks/PRIVATE_useMessagesFocusManager","../../hooks/UNSAFE_useBreakpointValues","../../hooks/UNSAFE_useBreakpoints","../../hooks/UNSAFE_useTranslationBundle","../../PRIVATE_Message","../../UNSAFE_Flex","../../Flex-b68a7b84","../../utils/UNSAFE_interpolations/dimensions","../../utils/UNSAFE_arrayUtils","../../utils/UNSAFE_size","../../_curry1-67906f4c","../../utils/UNSAFE_mergeInterpolations","../../utils/UNSAFE_classNames","../../classNames-b7cf3c05","../../_curry3-9a7f6d78","../../_curry2-fc31d1f8","../../_has-83207242","../../utils/UNSAFE_interpolations/boxalignment","../../keys-f8c00540","../../utils/UNSAFE_interpolations/flexbox","../../flexbox-5d0f6a63","../../utils/UNSAFE_interpolations/flexitem","../../flexitem-c53d7893","../../utils/PRIVATE_timer","../../MessageCloseButton-2fee9efb","../../UNSAFE_Button","../../Button-47193722","../../UNSAFE_BaseButton","../../BaseButton-1b45961f","../../hooks/UNSAFE_usePress","../../hooks/UNSAFE_useHover","../../hooks/UNSAFE_useToggle","../../hooks/UNSAFE_useActive","../../utils/PRIVATE_clientHints","../../clientHints-0d38de57","../../hooks/UNSAFE_useTabbableMode","../../utils/UNSAFE_mergeProps","../../index-922123b9","../../index-bd5b8cf5","../../UNSAFE_Icon","../../Icon-497347c9","../../hooks/UNSAFE_useTooltip","../../hooks/UNSAFE_useId","../../UNSAFE_Floating","../../Floating-2dad3061","../../index-8215ac99","../../hooks/UNSAFE_useUser","../../utils/PRIVATE_floatingUtils","../../utils/PRIVATE_refUtils","../../hooks/UNSAFE_useOutsideClick","../../hooks/UNSAFE_useFocus","../../hooks/UNSAFE_useTouch","../../hooks/UNSAFE_useAnimation","../../useAnimation-72dcd02d","../../hooks/UNSAFE_useTheme","../../MessageDetail-a6955705","../../MessageFormattingUtils-9c94aad3","../../utils/UNSAFE_getLocale","../../utils/UNSAFE_stringUtils","../../stringUtils-9fd51f79","../../Message.types-fe0cd4a5","../../MessageStartIcon-843ab57e","../../MessageSummary-29641f35","../../MessageTimestamp-59128dbb","../../MessageUtils-ba76366b","../../utils/UNSAFE_logger","../../utils/UNSAFE_soundUtils","../../MessagesManager-762835da","../../PRIVATE_TransitionGroup","../../hooks/UNSAFE_useMessagesContext","../../PRIVATE_MessageLayer","../../MessageLayer-b8983fee","../../UNSAFE_WindowOverlay","../../UNSAFE_FocusTrap","../../FocusTrap-d4cc44b1","../../utils/PRIVATE_tabbableUtils","../../UNSAFE_LiveRegion"],function(e,s,t,n,r,o,u,a,l,c,i,d,m,b,y,f,x,h,g,v,p,P,w,k,j,A,E,R,T,q,_,U,S,F,B,M,N,O,C,I,X,W,H,L,K,V,z,$,D,G,J,Q,Y,Z,ee,se,te,ne,re,oe,ue,ae,le,ce,ie,de,me,be,ye,fe,xe,he,ge,ve,pe,Pe,we,ke,je,Ae,Ee,Re,Te,qe,_e,Ue,Se,Fe,Be,Me,Ne){"use strict";function Oe(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var Ce=Oe(u);describe("Test MessageToast component",()=>{let s;const o=l.matchTranslationBundle(["en"],new Set(["en-US","en"]));beforeEach(async()=>{var t;const{default:n}=await function(s){switch(s){case"../../resources/nls/ar/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ar/bundle"],s,t)});case"../../resources/nls/ar-XB/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ar-XB/bundle"],s,t)});case"../../resources/nls/bg/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/bg/bundle"],s,t)});case"../../resources/nls/bs/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/bs/bundle"],s,t)});case"../../resources/nls/bs-Cyrl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/bs-Cyrl/bundle"],s,t)});case"../../resources/nls/cs/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/cs/bundle"],s,t)});case"../../resources/nls/da/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/da/bundle"],s,t)});case"../../resources/nls/de/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/de/bundle"],s,t)});case"../../resources/nls/el/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/el/bundle"],s,t)});case"../../resources/nls/en/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/en/bundle"],s,t)});case"../../resources/nls/en-XA/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/en-XA/bundle"],s,t)});case"../../resources/nls/en-XC/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/en-XC/bundle"],s,t)});case"../../resources/nls/es/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/es/bundle"],s,t)});case"../../resources/nls/et/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/et/bundle"],s,t)});case"../../resources/nls/fi/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/fi/bundle"],s,t)});case"../../resources/nls/fr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/fr/bundle"],s,t)});case"../../resources/nls/fr-CA/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/fr-CA/bundle"],s,t)});case"../../resources/nls/he/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/he/bundle"],s,t)});case"../../resources/nls/hr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/hr/bundle"],s,t)});case"../../resources/nls/hu/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/hu/bundle"],s,t)});case"../../resources/nls/is/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/is/bundle"],s,t)});case"../../resources/nls/it/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/it/bundle"],s,t)});case"../../resources/nls/ja/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ja/bundle"],s,t)});case"../../resources/nls/ko/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ko/bundle"],s,t)});case"../../resources/nls/lt/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/lt/bundle"],s,t)});case"../../resources/nls/lv/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/lv/bundle"],s,t)});case"../../resources/nls/ms/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ms/bundle"],s,t)});case"../../resources/nls/nl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/nl/bundle"],s,t)});case"../../resources/nls/no/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/no/bundle"],s,t)});case"../../resources/nls/pl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/pl/bundle"],s,t)});case"../../resources/nls/pt/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/pt/bundle"],s,t)});case"../../resources/nls/pt-PT/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/pt-PT/bundle"],s,t)});case"../../resources/nls/ro/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ro/bundle"],s,t)});case"../../resources/nls/ru/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ru/bundle"],s,t)});case"../../resources/nls/sk/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sk/bundle"],s,t)});case"../../resources/nls/sl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sl/bundle"],s,t)});case"../../resources/nls/sr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sr/bundle"],s,t)});case"../../resources/nls/sr-Latn/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sr-Latn/bundle"],s,t)});case"../../resources/nls/sv/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sv/bundle"],s,t)});case"../../resources/nls/th/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/th/bundle"],s,t)});case"../../resources/nls/tr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/tr/bundle"],s,t)});case"../../resources/nls/uk/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/uk/bundle"],s,t)});case"../../resources/nls/vi/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/vi/bundle"],s,t)});case"../../resources/nls/zh-Hans/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/zh-Hans/bundle"],s,t)});case"../../resources/nls/zh-Hant/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/zh-Hant/bundle"],s,t)});default:return new Promise(function(e,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}(`../../resources/nls/${o}/bundle.ts`);s=s||{translations:{"@oracle/oraclejet-preact":n}},(null!==(t=!window.matchMedia)&&void 0!==t?t:jest)&&Object.defineProperty(window,"matchMedia",{writable:!0,value:jest.fn().mockImplementation(e=>({matches:!1,media:e,onchange:null,addListener:jest.fn(),removeListener:jest.fn(),addEventListener:jest.fn(),removeEventListener:jest.fn(),dispatchEvent:jest.fn()}))})}),it("renders data correctly",async()=>{const{queryAllByRole:e,queryAllByText:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"primary text",detail:"data attribute",severity:"error"}},{key:1,data:{summary:"primary text",detail:"data attribute",severity:"error"}},{key:2,data:{summary:"primary text",detail:"data attribute",severity:"error"}}]})}))),u=e("alert");r.expect(u.length).equals(3);const l=o("primary text",{exact:!0}),i=o("data attribute",{exact:!0});r.expect(u[0].contains(l[0])).be.true,r.expect(u[0].contains(i[0])).be.true,r.expect(u[1].contains(l[1])).be.true,r.expect(u[1].contains(i[1])).be.true,r.expect(u[2].contains(l[2])).be.true,r.expect(u[2].contains(i[2])).be.true}),it("renders nothing when no data",async()=>{const{queryAllByRole:e}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[]})}))),o=e("alert");r.expect(o.length).equals(0)}),it("renders as error by default",async()=>{const{container:e,queryAllByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"test toast"}}]})}))),u=o("alert");r.expect(u.length).equals(1);const l=e.querySelector('[title="Error"]');r.expect(l).not.be.null}),it("renders as warning message",async()=>{const{container:e,queryAllByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{severity:"warning",summary:"test toast"}}]})}))),u=o("alert");r.expect(u.length).equals(1);const l=e.querySelector('[title="Warning"]');r.expect(l).not.be.null}),it("renders as confirmation message",async()=>{const{container:e,queryAllByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{severity:"confirmation",summary:"test toast"}}]})}))),u=o("alert");r.expect(u.length).equals(1);const l=e.querySelector('[title="Confirmation"]');r.expect(l).not.be.null}),it("renders as info message",async()=>{const{container:e,queryAllByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{severity:"info",summary:"test toast"}}]})}))),u=o("alert");r.expect(u.length).equals(1);const l=e.querySelector('[title="Info"]');r.expect(l).not.be.null}),it("renders as neutral message",async()=>{const{queryAllByRole:e,queryByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{severity:"none",summary:"test toast"}}]})}))),u=e("alert");r.expect(u.length).equals(1);const l=o("img");r.expect(l).be.null}),it("renders as close button by default",async()=>{const{queryAllByRole:e,queryByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"test toast"}}]})}))),u=e("alert");r.expect(u.length).equals(1);const l=o("button");r.expect(l).not.be.null}),it("renders without close button",async()=>{const{queryAllByRole:e,queryByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{closeAffordance:"off",summary:"test toast"}}]})}))),u=e("alert");r.expect(u.length).equals(1);const l=o("button");r.expect(l).be.null}),it("renders custom detail content for all messages",async()=>{const{queryAllByRole:e,queryAllByText:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"test toast",detail:"detail text"}},{key:1,data:{summary:"test toast",detail:"detail text"}},{key:2,data:{summary:"test toast",detail:"detail text"}}],renderers:{customRenderer:()=>t.jsx("div",{children:"Custom text"})},detailRendererKey:"customRenderer"})}))),u=e("alert");r.expect(u.length).equals(3);const l=o("detail text");r.expect(l).be.empty;const i=o("Custom text");r.expect(i.length).equals(3)}),it("passes correct argument for custom detail renderers",async()=>{const e=[{key:0,data:{summary:"test toast",detail:"detail text"}},{key:1,data:{summary:"test toast",detail:"detail text"}},{key:2,data:{summary:"test toast",detail:"detail text"}}],o=Ce.default.spy(()=>t.jsx("div",{children:"Custom text"})),{queryAllByRole:u}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:e,renderers:{customRenderer:o},detailRendererKey:"customRenderer"})}))),l=u("alert");r.expect(l.length).equals(3),r.expect(o.callCount).equals(6),r.expect(o.calledWith(Ce.default.match({data:e[0].data,key:e[0].key}))).be.true,r.expect(o.calledWith(Ce.default.match({data:e[1].data,key:e[1].key}))).be.true,r.expect(o.calledWith(Ce.default.match({data:e[2].data,key:e[2].key}))).be.true}),it("renders custom detail content for selective messages",async()=>{const{queryAllByRole:e,queryAllByText:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"test toast",detail:"detail text"}},{key:1,data:{summary:"test toast",detail:"detail text"}},{key:2,data:{summary:"test toast",detail:"detail text"}}],renderers:{customRenderer:()=>t.jsx("div",{children:"Custom text"})},detailRendererKey:({key:e})=>{if(1===e)return"customRenderer"}})}))),u=e("alert");r.expect(u.length).equals(3);const l=o("detail text");r.expect(l.length).equals(2);const i=o("Custom text");r.expect(i.length).equals(1)}),it("passes correct argument for detailRendererKey",async()=>{const e=[{key:0,data:{summary:"test toast",detail:"detail text"}},{key:1,data:{summary:"test toast",detail:"detail text"}},{key:2,data:{summary:"test toast",detail:"detail text"}}],o=Ce.default.spy(({key:e})=>{if(1===e)return"customRenderer"}),{queryAllByRole:u}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:e,renderers:{customRenderer:()=>t.jsx("div",{children:"Custom text"})},detailRendererKey:o})}))),l=u("alert");r.expect(l.length).equals(3),r.expect(o.callCount).equals(6),r.expect(o.calledWith(Ce.default.match(e[0]))).be.true,r.expect(o.calledWith(Ce.default.match(e[1]))).be.true,r.expect(o.calledWith(Ce.default.match(e[2]))).be.true}),it("renders custom start icon content for all messages",async()=>{const{queryAllByRole:e,queryAllByText:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"test toast",severity:"error"}},{key:1,data:{summary:"test toast",severity:"warning"}},{key:2,data:{summary:"test toast",severity:"none"}}],renderers:{customRenderer:()=>t.jsx("div",{children:"X"})},iconRendererKey:"customRenderer"})}))),u=e("alert");r.expect(u.length).equals(3);const l=e("img");r.expect(l).be.empty;const i=o("X");r.expect(i.length).equals(3)}),it("passes correct argument for custom icon renderers",async()=>{const e=[{key:0,data:{summary:"test toast",severity:"error"}},{key:1,data:{summary:"test toast",severity:"warning"}},{key:2,data:{summary:"test toast",severity:"none"}}],o=Ce.default.spy(()=>t.jsx("div",{children:"X"})),{queryAllByRole:u}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:e,renderers:{customRenderer:o},iconRendererKey:"customRenderer"})}))),l=u("alert");r.expect(l.length).equals(3),r.expect(o.callCount).equals(6),r.expect(o.calledWith(Ce.default.match({data:e[0].data,key:e[0].key}))).be.true,r.expect(o.calledWith(Ce.default.match({data:e[1].data,key:e[1].key}))).be.true,r.expect(o.calledWith(Ce.default.match({data:e[2].data,key:e[2].key}))).be.true}),it("renders custom start icon content for selective messages",async()=>{const{queryAllByRole:e,queryAllByText:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:[{key:0,data:{summary:"test toast",severity:"error"}},{key:1,data:{summary:"test toast",severity:"warning"}},{key:2,data:{summary:"test toast",severity:"none"}}],renderers:{customRenderer:()=>t.jsx("div",{children:"X"})},iconRendererKey:({key:e})=>{if(1===e)return"customRenderer"}})}))),u=e("alert");r.expect(u.length).equals(3);const l=e("img");r.expect(l.length).equals(1);const i=o("X");r.expect(i.length).equals(1)}),it("passes correct argument for iconRendererKey",async()=>{const e=[{key:0,data:{summary:"test toast",severity:"error"}},{key:1,data:{summary:"test toast",severity:"warning"}},{key:2,data:{summary:"test toast",severity:"none"}}],o=Ce.default.spy(({key:e})=>{if(1===e)return"customRenderer"}),{queryAllByRole:u}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:s},{children:t.jsx(c.MessageToast,{data:e,renderers:{customRenderer:()=>t.jsx("div",{children:"X"})},iconRendererKey:o})}))),l=u("alert");r.expect(l.length).equals(3),r.expect(o.callCount).equals(6),r.expect(o.calledWith(Ce.default.match(e[0]))).be.true,r.expect(o.calledWith(Ce.default.match(e[1]))).be.true,r.expect(o.calledWith(Ce.default.match(e[2]))).be.true})}),describe("Test MessageToast interaction",()=>{function u(e){var{data:n,onClose:r}=e,u=s.__rest(e,["data","onClose"]);const[a,l]=o.useState(n),i=o.useCallback(e=>{void 0!==r?r.call(null,e):l(a.filter(s=>s.key!==e.key))},[r]);return console.log(a),t.jsx(c.MessageToast,Object.assign({},u,{data:a,onClose:i}))}let i;beforeEach(async()=>{const s=l.matchTranslationBundle(["en"],new Set(["en-US","en"])),{default:t}=await function(s){switch(s){case"../../resources/nls/ar/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ar/bundle"],s,t)});case"../../resources/nls/ar-XB/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ar-XB/bundle"],s,t)});case"../../resources/nls/bg/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/bg/bundle"],s,t)});case"../../resources/nls/bs/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/bs/bundle"],s,t)});case"../../resources/nls/bs-Cyrl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/bs-Cyrl/bundle"],s,t)});case"../../resources/nls/cs/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/cs/bundle"],s,t)});case"../../resources/nls/da/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/da/bundle"],s,t)});case"../../resources/nls/de/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/de/bundle"],s,t)});case"../../resources/nls/el/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/el/bundle"],s,t)});case"../../resources/nls/en/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/en/bundle"],s,t)});case"../../resources/nls/en-XA/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/en-XA/bundle"],s,t)});case"../../resources/nls/en-XC/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/en-XC/bundle"],s,t)});case"../../resources/nls/es/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/es/bundle"],s,t)});case"../../resources/nls/et/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/et/bundle"],s,t)});case"../../resources/nls/fi/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/fi/bundle"],s,t)});case"../../resources/nls/fr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/fr/bundle"],s,t)});case"../../resources/nls/fr-CA/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/fr-CA/bundle"],s,t)});case"../../resources/nls/he/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/he/bundle"],s,t)});case"../../resources/nls/hr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/hr/bundle"],s,t)});case"../../resources/nls/hu/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/hu/bundle"],s,t)});case"../../resources/nls/is/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/is/bundle"],s,t)});case"../../resources/nls/it/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/it/bundle"],s,t)});case"../../resources/nls/ja/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ja/bundle"],s,t)});case"../../resources/nls/ko/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ko/bundle"],s,t)});case"../../resources/nls/lt/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/lt/bundle"],s,t)});case"../../resources/nls/lv/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/lv/bundle"],s,t)});case"../../resources/nls/ms/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ms/bundle"],s,t)});case"../../resources/nls/nl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/nl/bundle"],s,t)});case"../../resources/nls/no/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/no/bundle"],s,t)});case"../../resources/nls/pl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/pl/bundle"],s,t)});case"../../resources/nls/pt/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/pt/bundle"],s,t)});case"../../resources/nls/pt-PT/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/pt-PT/bundle"],s,t)});case"../../resources/nls/ro/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ro/bundle"],s,t)});case"../../resources/nls/ru/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/ru/bundle"],s,t)});case"../../resources/nls/sk/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sk/bundle"],s,t)});case"../../resources/nls/sl/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sl/bundle"],s,t)});case"../../resources/nls/sr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sr/bundle"],s,t)});case"../../resources/nls/sr-Latn/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sr-Latn/bundle"],s,t)});case"../../resources/nls/sv/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/sv/bundle"],s,t)});case"../../resources/nls/th/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/th/bundle"],s,t)});case"../../resources/nls/tr/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/tr/bundle"],s,t)});case"../../resources/nls/uk/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/uk/bundle"],s,t)});case"../../resources/nls/vi/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/vi/bundle"],s,t)});case"../../resources/nls/zh-Hans/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/zh-Hans/bundle"],s,t)});case"../../resources/nls/zh-Hant/bundle.ts":return new Promise(function(s,t){e(["../../resources/nls/zh-Hant/bundle"],s,t)});default:return new Promise(function(e,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}(`../../resources/nls/${s}/bundle.ts`);i={translations:{"@oracle/oraclejet-preact":t}},"undefined"!=typeof jest&&jest.useFakeTimers()}),xit("closes messages correctly",async()=>{const{queryAllByRole:e,queryByText:s}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:i},{children:t.jsx(u,{data:[{key:0,data:{summary:"first message",detail:"data attribute",severity:"error"}},{key:1,data:{summary:"second message",detail:"data attribute",severity:"error"}},{key:2,data:{summary:"third message",detail:"data attribute",severity:"error"}}]})})));let o=e("alert");r.expect(o.length).equals(3);let l=e("button")[1];r.expect(l).not.be.null,n.act(()=>l.click()),o=e("alert"),r.expect(o.length).equals(2),r.expect(s("second message")).be.null,l=e("button")[1],r.expect(l).not.be.null,n.act(()=>l.click()),o=e("alert"),r.expect(o.length).equals(1),r.expect(s("third message")).be.null}),it("has correct close button payload",async()=>{const e=[{key:0,data:{summary:"first message",detail:"data attribute",severity:"error"}},{key:1,data:{summary:"second message",detail:"data attribute",severity:"error"}},{key:2,data:{summary:"third message",detail:"data attribute",severity:"error"}}],s=Ce.default.spy(),{queryAllByRole:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:i},{children:t.jsx(c.MessageToast,{data:e,onClose:s})}))),u=o("alert");r.expect(u.length).equals(3);const l=o("button");r.expect(l.length).equals(3),n.act(()=>l[0].click()),r.expect(s.calledOnceWith(Ce.default.match(e[0]))).be.true,s.resetHistory(),n.act(()=>l[1].click()),r.expect(s.calledOnceWith(Ce.default.match(e[1]))).be.true,s.resetHistory(),n.act(()=>l[2].click()),r.expect(s.calledOnceWith(Ce.default.match(e[2]))).be.true,s.resetHistory()}),"undefined"!=typeof jest&&(xit("auto dismiss works with default",async()=>{const{queryAllByRole:e}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:i},{children:t.jsx(u,{data:[{key:"message1",data:{severity:"info",summary:"Info Text",detail:"Auto Timeout On",closeAffordance:"off",autoTimeout:"on"}},{key:"message3",data:{severity:"error",summary:"Error Text",detail:"Auto Timeout Off",closeAffordance:"on",autoTimeout:"off"}}]})}))),s=e("alert");r.expect(s.length).equals(2),await n.act(async()=>{null===jest||void 0===jest||jest.advanceTimersByTime(6e3)});const o=e("alert");r.expect(o.length).equals(1)}),xit("auto dismiss works with user defined",async()=>{const e=[{key:"message1",data:{severity:"info",summary:"Info Text",detail:"Auto Timeout On",closeAffordance:"off",autoTimeout:1e4}},{key:"message3",data:{severity:"error",summary:"Error Text",detail:"Auto Timeout Off",closeAffordance:"on",autoTimeout:"off"}}],{queryAllByRole:s,rerender:o}=n.render(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:i},{children:t.jsx(u,{data:e})}))),l=s("alert");r.expect(l.length).equals(2),await n.act(async()=>{null===jest||void 0===jest||jest.advanceTimersByTime(11e3)}),o(t.jsx(a.RootEnvironmentProvider,Object.assign({environment:i},{children:t.jsx(u,{data:e})})));const c=s("alert");r.expect(c.length).equals(1)})),"undefined"!=typeof jest&&afterEach(()=>{jest.runOnlyPendingTimers(),jest.useRealTimers()})})});
//# sourceMappingURL=MessageToast.spec.js.map
