define(["exports","preact/jsx-runtime","preact","preact/hooks","./UNSAFE_Flex",'module',"./utils/UNSAFE_mergeProps","./useSingleSelection-ef21f66a","./hooks/PRIVATE_useCurrentKey","./hooks/PRIVATE_useCollectionFocusRing","./utils/PRIVATE_collectionUtils","./utils/PRIVATE_clientHints","./hooks/UNSAFE_useId","./hooks/UNSAFE_useTranslationBundle","./UNSAFE_HiddenAccessible","./PRIVATE_Collection","./tslib.es6-d8595453","./utils/UNSAFE_classNames","preact/compat","./classNames-b7cf3c05","./Flex-b68a7b84","./Collection-65387b39","./HiddenAccessible-30baa563","./clientHints-0d38de57"],function(e,t,s,n,a,r,i,c,l,o,u,d,y,f,b,x,k,j,v,g,h,O,_,N){"use strict";const R=Object.freeze({key:"__others__",label:"#"}),E="z1km93",w="nancku",T="dw49zi",m="y253y8",p="."+E,A="_7sz2zw",S=v.forwardRef((e,s)=>{const n=f.useTranslationBundle("@oracle/oraclejet-preact"),{context:a,selectedKey:r}=e,i=a.data.key===r,c=F(e,s),l=g.classNames([c.class,a.data.isDisabled&&w,i&&m]),o=a.data.label||a.data.key,u=a.data.isDisabled?n.indexer_disabledLabel({SECTION:`${o}`}):`${o}`;return t.jsx("li",Object.assign({},c,{class:l,"data-oj-valuetext":u,"data-oj-disabled":a.data.isDisabled},{children:a.data.label||a.data.key}))});function F({context:e,currentKey:t,valueNow:s,isFocusRingVisible:n},a){const r=e.data.key===t,i=g.classNames([E,r&&n&&T]);return Object.assign(Object.assign({},r&&{ref:a}),{key:e.data.key,class:i,"data-oj-key":e.data.key,"data-oj-key-type":typeof e.data.key,"data-oj-valuenow":s,isFocusRingVisible:!!n})}const I=v.forwardRef((e,n)=>{var{lastValueNow:a}=e,r=k.__rest(e,["lastValueNow"]);const i=Object.assign(Object.assign({},r),{ref:n});return t.jsxs(s.Fragment,{children:[t.jsx(S,Object.assign({},i)),t.jsx(C,Object.assign({},i,{ref:n,context:{index:-1,data:R},valueNow:a}))]})}),C=v.forwardRef((e,s)=>{const{context:n,selectedKey:a}=e,r=F(e,s),i=n.data.key===a,c=g.classNames([r.class,i&&m]),l=R.label;return t.jsx("li",Object.assign({},r,{class:c,"data-oj-valuetext":l},{children:n.data.label}))}),P=v.forwardRef((e,s)=>{const n=f.useTranslationBundle("@oracle/oraclejet-preact"),{context:a,sections:r}=e,i=F(e,s),{from:c,to:l}=V(e);if(!K(a.index,c,l))return null;const o=r[c].label||r[c].key,u=r[l].label||r[l].key,d=g.classNames([A]),y=n.indexer_separatorLabel({FROM_SECTION:`${o}`,TO_SECTION:`${u}`});return t.jsx("li",Object.assign({},i,{"data-oj-valuetext":y},{children:t.jsx(h.Flex,Object.assign({align:"center",justify:"center"},{children:t.jsx("div",{class:d})}))}))});function V({context:e,sectionsPerTruncation:t,last:s}){const n=e.index-e.index%t+1;let a=n+t-2;return a=a>=s?s-1:a,{from:n,to:a}}function K(e,t,s){return e===Math.floor((t+s)/2)}const H="_1n71xyw",U="_1f2h03a",z=[{key:"A"},{key:"B"},{key:"C"},{key:"D"},{key:"E"},{key:"F"},{key:"G"},{key:"H"},{key:"I"},{key:"J"},{key:"K"},{key:"L"},{key:"M"},{key:"N"},{key:"O"},{key:"P"},{key:"Q"},{key:"R"},{key:"S"},{key:"T"},{key:"U"},{key:"V"},{key:"W"},{key:"X"},{key:"Y"},{key:"Z"}];const B=(e,t,s)=>e===t.current?void 0===s?null:s:u.keyExtractor(e,p),D=(e,t,s)=>{if(e.value===R.key)t({value:R.key});else{t({value:s.find(t=>t.key===e.value).key})}},M=(e,t,s,n,a,r,i)=>{if(0===e||0===t)return;const c=e/t,l=s-1;if(c<2)a!==l&&(r(l),i(n));else if(c>s||s-c<.01)a>1&&(r(1),i(n));else{const e=$(c,l);e!==a&&e<s&&(r(e),i(n))}},$=(e,t)=>{e-=2,e/=2;const s=Math.round(t/e)+1,n=t%s,a=Math.floor(t/s)+(n>1?1:0);let r=t-(a-1)*s,i=s;for(;i>r;)i-=1,r=t-(a-1)*i;return i!=s&&(i+=1),i};function L(e){const t=N.getClientHints().deviceType;return"phone"===t||"tablet"===t?e.indexer_touchInstructionText():e.indexer_keyboardInstructionText()}e.Indexer=function({sections:e=z,value:a,onCommit:r=(()=>{})}){var d;const b=n.useRef(null),x=n.useRef(null),k=s.createRef(),[j,v]=n.useState(null===(d=e[0])||void 0===d?void 0:d.key),[g,N]=n.useState(-1),R=n.useRef(-1),E=n.useRef(0),w=y.useId(),[T,m]=o.useCollectionFocusRing(e=>{var t;return!!(null===(t=b.current)||void 0===t?void 0:t.contains(e))},["ArrowUp","ArrowDown"]),{currentKeyProps:A}=l.useCurrentKey(e=>u.keyExtractor(e,p),u.getPrevNextKey(b.current,j,!0,p),u.getPrevNextKey(b.current,j,!1,p),j,e=>v(e.value)),{selectionProps:F}=c.useSingleSelection(e=>B(e,x,j),void 0,t=>D(t,r,e)),C=n.useCallback(t=>{var s;for(const n of t)M(n.contentRect.height,E.current,e.length,null===(s=e[0])||void 0===s?void 0:s.key,g,N,v)},[e,g]);n.useEffect(()=>{var e,t,s,n;x.current&&(x.current.setAttribute("aria-valuemax",R.current+1+""),x.current.setAttribute("aria-valuetext",(null===(t=null===(e=k.current)||void 0===e?void 0:e.dataset)||void 0===t?void 0:t.ojValuetext)||""),x.current.setAttribute("aria-valuenow",(null===(n=null===(s=k.current)||void 0===s?void 0:s.dataset)||void 0===n?void 0:n.ojValuenow)||"")),R.current=-1}),n.useEffect(()=>{var t,s;const n=b.current;n&&(E.current=(null===(t=n.querySelector("li"))||void 0===t?void 0:t.offsetHeight)||0,M(n.offsetHeight,E.current,e.length,null===(s=e[0])||void 0===s?void 0:s.key,g,N,v))},[e,g]),n.useEffect(()=>{const e=b.current;if(e){const t=new ResizeObserver(e=>{C(e)});return t.observe(e),()=>{t.unobserve(e)}}},[g,C]);const $=f.useTranslationBundle("@oracle/oraclejet-preact");return t.jsxs("div",Object.assign({ref:b,class:H},{children:[t.jsx(h.Flex,Object.assign({align:"center",width:"6x",height:"100%"},{children:t.jsx("ul",Object.assign({},i.mergeProps(A,m,F),{ref:x,tabIndex:0,"aria-label":"Indexer","aria-orientation":"vertical","aria-valuemin":"0","aria-describedby":w,role:"slider",class:U},{children:t.jsx(O.Collection,Object.assign({items:e},{children:s=>{const n=e.length-1;R.current+=1;const r={context:s,ref:k,currentKey:j,selectedKey:a,valueNow:R.current,isFocusRingVisible:!!T};if(s.index===n)return t.jsx(I,Object.assign({},r,{lastValueNow:R.current+1}));if(g<=1||s.index%g==0)return t.jsx(S,Object.assign({},r));const i=Object.assign(Object.assign({},r),{sectionsPerTruncation:g,last:n,sections:e});return function(e){const{from:t,to:s}=V(e);return K(e.context.index,t,s)}(i)?t.jsx(P,Object.assign({},i)):(R.current-=1,null)}}))}))})),t.jsx(_.HiddenAccessible,{children:t.jsx("span",Object.assign({id:w},{children:L($)}))})]}))},e.SECTION_OTHERS=R});
//# sourceMappingURL=Indexer-52175b51.js.map
