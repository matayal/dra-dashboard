define(["exports","preact/jsx-runtime","preact/hooks","./hooks/UNSAFE_useId","preact","css!./UNSAFE_Collapsible.css","./utils/UNSAFE_classNames","./UNSAFE_Flex","./UNSAFE_Divider","./index-922123b9","./index-bd5b8cf5","./hooks/UNSAFE_usePress","./classNames-b7cf3c05","./Flex-b68a7b84","./Divider-9022fb71","./hooks/UNSAFE_useAnimation","./useAnimation-72dcd02d","./tslib.es6-d8595453","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_arrayUtils","./utils/UNSAFE_size","./_curry1-67906f4c","./utils/UNSAFE_mergeInterpolations","./_curry3-9a7f6d78","./_curry2-fc31d1f8","./_has-83207242","./utils/UNSAFE_interpolations/boxalignment","./keys-f8c00540","./utils/UNSAFE_interpolations/flexbox","./flexbox-5d0f6a63","./utils/UNSAFE_interpolations/flexitem","./flexitem-c53d7893","./UNSAFE_Icon","./Icon-497347c9","./hooks/UNSAFE_useTooltip","./UNSAFE_Floating","./Floating-2dad3061","preact/compat","./index-8215ac99","./hooks/UNSAFE_useUser","./UNSAFE_Environment","./UNSAFE_Layer","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./utils/UNSAFE_mergeProps","./hooks/UNSAFE_useTheme"],function(e,s,i,n,t,o,a,l,r,d,c,u,x,g,h,_,E,p,b,m,F,N,A,S,U,j,f,v,k,I,y,O,P,H,T,C,D,R,w,z,$,V,q,L,M,Y,B,G,J,K,Q){"use strict";const W=({isExpanded:e,iconPosition:i})=>{const n="start"===i&&e?c.SvgIcoChevronDown:d.CollapseIcon,t="end"===i&&e?c.SvgIcoChevronUp:c.SvgIcoChevronDown,o="start"===i?n:t;return s.jsx(o,{size:"6x"})},X="_2jyr9e",Z="_1ml1kiv",ee="_1c0td7o",se="_9a6uct",ie="_1yoqog3",ne="_5obyd7",te="_1w1udn6",oe=({children:e,id:n,contentId:o,isDisabled:a,isExpanded:l,iconPosition:r,variant:d="basic",toggleHandler:c})=>{const _=x.classNames([X,"horizontal-rule"===d&&se,l&&"horizontal-rule"!==d&&Z,a&&ee]),E=x.classNames([ie,"end"===r&&te,"start"===r&&ne]),p=i.useCallback(e=>{c(e.target)},[c]),{pressProps:b}=u.usePress(p,{isDisabled:a,isRepeat:!1});return s.jsxs(s.Fragment,{children:[s.jsx("div",Object.assign({role:"button","aria-controls":o,"aria-expanded":l,id:n,tabIndex:0,className:_},b,{children:s.jsx(g.Flex,Object.assign({align:"center",justify:"start"===r?"start":"between"},{children:s.jsxs(t.Fragment,{children:["end"===r&&s.jsx("div",Object.assign({className:E},{children:e})),s.jsx(W,{iconPosition:r,isExpanded:l}),"start"===r&&s.jsx("div",Object.assign({className:E},{children:e}))]})}))})),"horizontal-rule"===d&&s.jsx(h.Divider,{})]})},ae=({children:e,id:n,isExpanded:t,onTransitionEnd:o})=>{const[a,l]=i.useState(t?"expanding":"unmounted"),r=i.useRef({overflowY:"hidden",maxHeight:t?"none":"0"});i.useEffect(()=>{("unmounted"!==a||t)&&l(t?"expanding":"collapsing")},[t,a]);const{nodeRef:d}=E.useAnimation(a,{animationStates:le,onAnimationEnd:({animationState:e})=>{"collapsing"===e&&l("unmounted"),null==o||o()}});return s.jsx("div",Object.assign({className:"_1ri29hl",ref:d,id:n,tabIndex:-1,style:r.current,"aria-hidden":!t||void 0},{children:"unmounted"!==a&&e}))},le={expanding:e=>({to:{maxHeight:`${e.scrollHeight}px`},options:{duration:400},end:{maxHeight:"none"}}),collapsing:e=>Object.assign(Object.assign({},"none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`}}),{to:{maxHeight:"0"},options:{duration:400}})};e.Collapsible=({id:e,header:t,children:o,isDisabled:a=!1,isExpanded:l=!1,iconPosition:r="start",variant:d="basic",onToggle:c,onTransitionEnd:u})=>{const x=i.useRef(null),g=n.useId(),h=`oj-collapsible-header-${g}`,_=`oj-collapsible-content-${g}`,E=i.useCallback(e=>{a||null==c||c({value:!l,target:e})},[a,c,l]),p=i.useCallback(()=>{null==u||u({value:l})},[u,l]);return s.jsxs("div",Object.assign({id:e,ref:x},{children:[s.jsx(oe,Object.assign({id:h,contentId:_,toggleHandler:E,isDisabled:a,isExpanded:l,iconPosition:r,variant:d},{children:t})),s.jsx(ae,Object.assign({id:_,isExpanded:l,onTransitionEnd:p},{children:o}))]}))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_Collapsible.js.map
