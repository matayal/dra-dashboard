define(["exports","./tslib.es6-d8595453","preact/jsx-runtime","./utils/UNSAFE_size","css!./UNSAFE_MeterBar.css","./utils/UNSAFE_classNames","./utils/UNSAFE_mergeProps","preact/hooks","./hooks/UNSAFE_useUser","./hooks/PRIVATE_useDvtMeterEvents","./utils/PRIVATE_meterUtils","./PRIVATE_Meter","./utils/UNSAFE_dvtCommonUtils","./classNames-b7cf3c05","./hooks/UNSAFE_useTabbableMode","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useId","./UNSAFE_Floating","./Floating-2dad3061","./index-8215ac99","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./utils/UNSAFE_arrayUtils","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-72dcd02d"],function(t,e,o,r,i,a,s,n,l,c,d,h,u,m,g,_,v,p,b,S,f,z,k,x,E,T,A,M,U,F,N,y,C,j){"use strict";function B(t){if(!t)return{width:0,height:0};const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function w({orientation:t,percentage:e,color:r,position:i}){const a="horizontal"===t,{direction:s}=l.useUser(),n="rtl"===s,c="start"===i;return o.jsx("div",{class:m.classNames([R.base,R[`${t}Border`],R[`${t}`],c?a?R.horiontalStart:R["verticalStart"+(n?"Rtl":"Ltr")]:""]),style:{left:a&&!n?e:void 0,right:a&&n?e:void 0,bottom:a?void 0:e,backgroundColor:u.getDvtThresholdColor(r)}})}const R={base:"d6zxmg",verticalBorder:"ybwyqk",horizontalBorder:"_177rhp6",vertical:"_1dosv15",horizontal:"_4th8wo",horiontalStart:"_66g0qy",verticalStartLtr:"zb1pnh",verticalStartRtl:"_1ychsu4"};function I(t){var{color:r,length:i,orientation:a}=t,s=e.__rest(t,["color","length","orientation"]);const{direction:n}=l.useUser(),c="horizontal"===a,d="rtl"===n;return o.jsx("div",{class:m.classNames([L.base,c?L["horizontalBarTrackSection"+(d?"Rtl":"Ltr")]:L.verticalBarTrackSection,s.class]),style:{width:c?i:"100%",height:c?"100%":i,backgroundColor:u.getDvtThresholdColor(r)}})}const L={base:"cq8a1c",verticalBarTrackSection:"_1okbzy0",horizontalBarTrackSectionRtl:"kciy5g",horizontalBarTrackSectionLtr:"u7pfrc"};const $=function(t,e,o){const r=[];return t.start&&r.push(q[`${e}Margin${o?"Top":"Start"}`]),t.end&&r.push(q[`${e}Margin${o?"Bottom":"End"}`]),r},P={base:"dblie",horizontal:"cnvqsq",vertical:"_5yacbj",interactive:"_1452cgm"},V={base:"_1fv6d7s",vertical:"_1c570b7",horizontal:"ez2ii6"},q={base:"_1oe2qvf",vertical:"vu4xrg",smHorizontal:"_8ftdg6",smVertical:"ll81sh",mdHorizontal:"_1lr9oz7",mdVertical:"_3597hk",lgHorizontal:"_3zulf3",lgVertical:"r2y7ie",smMarginTop:"_1dfnrt4",mdMarginTop:"_13u5q21",lgMarginTop:"j1eqz0",smMarginStart:"pzsja2",mdMarginStart:"ico3hq",lgMarginStart:"_73d9m9",smMarginEnd:"_13o96cy",mdMarginEnd:"zzwlpw",lgMarginEnd:"_1rkowr4",smMarginBottom:"ejlbmh",mdMarginBottom:"xo8u4m",lgMarginBottom:"_1f84gy9"},D={horizontalFirst:"_6kykyz",horizontalLast:"_1k5db2r",verticalFirst:"h8uy34",verticalLast:"_13txa8i",roundedCorners:"_1o5wlew"};t.MeterBar=function(t){var i,a,{max:u=100,min:_=0,value:v=0,step:p=1,length:b="100%",size:S="lg",orientation:f="horizontal",isTrackRendered:z=!0,thresholdDisplay:k="all",indicatorSize:x=1}=t,E=e.__rest(t,["max","min","value","step","length","size","orientation","isTrackRendered","thresholdDisplay","indicatorSize"]);d.validateRange(_,u,v,p);const T="horizontal"===f,A=n.useRef(null),M=n.useRef(B(null)),{direction:U}=l.useUser(),F="rtl"===U;n.useEffect(()=>{(E.onCommit||E.onInput)&&(M.current=B(A.current))},[S,b,f,E.onCommit,E.onInput]);const N=c.usePointerEvents(v,t=>{if(t.target==A.current)return function(t,e,o,r,i,a,s){const n=e.current;if(!n||0===n.width)return;let l;if("horizontal"===a){const e=t.offsetX;l=o+(r-o)*(s?n.width-e:e)/n.width}else l=o+(r-o)*(n.height-t.offsetY)/n.height;return l=Math.round(l/i)*i,Math.max(o,Math.min(r,l))}(t,M,_,u,p,f,F)},A,E.onCommit,E.onInput),y=c.useKeyboardEvents(v,_,u,p,E.onCommit,E.onInput),{datatipContent:C,datatipProps:j}=c.useMeterDatatip(v,E.datatip,E.ariaDescribedBy),R=d.getMeterAriaProps(v,_,u,`${v}`,E.accessibleLabel,E.ariaLabelledBy,E.thresholds),L=s.mergeProps(N,y,j,R),H=Math.max(0,Math.min(1,x)),O=100*(v-_)/(u-_)+"%",K=100*H+"%",{trackColor:X,indicatorColor:Y}=d.getTrackAndIndicatorColor(v,k,E.trackColor,E.indicatorColor,E.thresholds),G=function(t){let e={start:!1,end:!1};return t&&(e=t.reduce((t,e)=>(t.start=t.start||"start"===e.position,t.end=t.end||"end"===e.position||null==e.position,t),e)),e}(E.referenceLines),J=E.onCommit||E.onInput,{isTabbable:Q}=g.useTabbableMode();return o.jsxs(o.Fragment,{children:[o.jsx("div",Object.assign({tabIndex:Q?0:-1,role:"slider"},L,{style:{width:T?r.sizeToCSS(b):void 0,height:T?void 0:r.sizeToCSS(b)},class:m.classNames([P.base,P[f]])},{children:o.jsxs(h.BarTrack,Object.assign({ref:A,orientation:f,color:!z||"all"===k&&E.thresholds?"transparent":X,class:m.classNames([q.base,J?P.interactive:"",T?"":q.vertical,T?q[`${S}Horizontal`]:q[`${S}Vertical`],...$(G,S,T)])},{children:["all"===k&&(null===(i=E.thresholds)||void 0===i?void 0:i.filter(t=>t.max>_&&t.max<=u).sort((t,e)=>t.max-e.max).map((t,e,r)=>{const i=0===e?t.max-_:t.max-r[e-1].max;let a=0===e?D[`${f}First`]:"";return t.max===u&&(a=0===e?D.roundedCorners:D[`${f}Last`]),o.jsxs(o.Fragment,{children:[o.jsx(I,{class:a,orientation:f,length:100*i/(u-_)+"%",color:t.color}),z&&e===r.length-1&&t.max<u?o.jsx(I,{class:D[`${f}Last`],color:X,orientation:f,length:100*(u-r[e].max)/(u-_)+"%"}):""]})})),o.jsx(h.BarValue,{length:O,size:K,orientation:f,class:m.classNames([V.base,V[f]]),color:Y}),null===(a=E.referenceLines)||void 0===a?void 0:a.map(t=>o.jsx(w,{color:t.color,orientation:f,percentage:100*(t.value-_)/(u-_)+"%",position:t.position}))]}))})),C]})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_MeterBar.js.map
