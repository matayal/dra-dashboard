define(["exports","preact/jsx-runtime","preact/hooks","css!./PRIVATE_SelectCommon.css","./UNSAFE_HighlightText","./PRIVATE_List","./UNSAFE_Flex","./UNSAFE_Skeleton","./utils/UNSAFE_logger","./Flex-b68a7b84","./HighlightText-3fd0a6f3","./List-2e90b0fb","./Skeleton-b8b725eb","./UNSAFE_Floating","./UNSAFE_Layer","./utils/UNSAFE_arrayUtils","./Floating-2dad3061","./hooks/UNSAFE_usePress","./index-922123b9","./utils/UNSAFE_classNames","./classNames-b7cf3c05","./index-bd5b8cf5","./hooks/UNSAFE_useFormFieldContext","./UNSAFE_UserAssistance","./hooks/UNSAFE_useTranslationBundle","./utils/PRIVATE_clientHints","./clientHints-0d38de57","./utils/UNSAFE_mergeProps","./utils/UNSAFE_keys","./LoadMoreCollection-afedb694","./PRIVATE_Collection","./Collection-65387b39","preact","./hooks/UNSAFE_useViewportIntersect","./PRIVATE_VirtualizedCollection","./VirtualizedCollection-79996ea9","./hooks/UNSAFE_useTabbableMode","./UNSAFE_FocusTrap","./FocusTrap-d4cc44b1","preact/compat","./utils/PRIVATE_tabbableUtils","./_curry1-67906f4c","./_curry2-fc31d1f8","./_curry3-9a7f6d78","./hooks/UNSAFE_useId","./hooks/PRIVATE_useSelection","./hooks/PRIVATE_useCurrentKey","./hooks/PRIVATE_useCollectionFocusRing","./hooks/PRIVATE_useTabbableModeSet","./hooks/PRIVATE_useItemAction","./utils/PRIVATE_collectionUtils","./tslib.es6-d8595453","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_size","./utils/UNSAFE_mergeInterpolations","./_has-83207242","./utils/UNSAFE_interpolations/borders","./utils/UNSAFE_interpolations/boxalignment","./keys-f8c00540","./utils/UNSAFE_interpolations/flexbox","./flexbox-5d0f6a63","./utils/UNSAFE_interpolations/flexitem","./flexitem-c53d7893","./UNSAFE_Selector","./UNSAFE_Icon","./Icon-497347c9","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-72dcd02d","./index-8215ac99","./hooks/UNSAFE_useUser","./UNSAFE_Environment","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useTheme","./InlineHelpSource-0ea4f6bc","./UNSAFE_ComponentMessage","./ComponentMessage-f2269c89","./PRIVATE_Message","./utils/PRIVATE_timer","./MessageCloseButton-2fee9efb","./UNSAFE_Button","./Button-47193722","./UNSAFE_BaseButton","./BaseButton-1b45961f","./hooks/UNSAFE_useActive","./MessageDetail-a6955705","./MessageFormattingUtils-9c94aad3","./utils/UNSAFE_getLocale","./utils/UNSAFE_stringUtils","./stringUtils-9fd51f79","./Message.types-fe0cd4a5","./MessageStartIcon-843ab57e","./MessageSummary-29641f35","./MessageTimestamp-59128dbb","./MessageUtils-ba76366b","./utils/UNSAFE_soundUtils","./MessagesManager-762835da","./PRIVATE_TransitionGroup","./hooks/UNSAFE_useMessagesContext","./UNSAFE_HiddenAccessible","./HiddenAccessible-30baa563","./ComponentMessageContainer-c5cc5051","./hooks/UNSAFE_useFormContext"],function(e,t,s,n,o,i,a,l,r,c,u,d,f,A,h,E,b,S,g,_,F,p,m,v,T,U,C,x,k,N,y,w,D,I,R,P,j,L,M,O,K,H,V,B,G,z,W,q,Y,$,J,Q,X,Z,ee,te,se,ne,oe,ie,ae,le,re,ce,ue,de,fe,Ae,he,Ee,be,Se,ge,_e,Fe,pe,me,ve,Te,Ue,Ce,xe,ke,Ne,ye,we,De,Ie,Re,Pe,je,Le,Me,Oe,Ke,He,Ve,Be,Ge,ze,We,qe,Ye,$e,Je,Qe,Xe,Ze,et){"use strict";function tt(e,t){var s;if("string"!=typeof t)return t(e);if(null===(s=e.data)||void 0===s?void 0:s.hasOwnProperty(t)){const s=e.data[t];return String(s)}r.Logger.error("SelectMultiple: itemText specifies field that does not exist: "+t)}const st=()=>{};const nt=t.jsx(d.SkeletonContainer,Object.assign({minimumCount:3},{children:()=>t.jsx(c.Flex,Object.assign({height:"12x",align:"center"},{children:t.jsx(f.Skeleton,{height:"4x"})}))})),ot={TAB:"Tab",ENTER:"Enter",ESC:"Escape",SPACE:"Space",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",SHIFT_LEFT:"ShiftLeft",SHIFT_RIGHT:"ShiftRight",CTRL_LEFT:"ControlLeft",CTRL_RIGHT:"ControlRight",ALT_LEFT:"AltLeft",ALT_RIGHT:"AltRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",HOME:"Home",END:"End",BACKSPACE:"Backspace",DELETE:"Delete"},it=e=>{switch(e.code){case ot.SHIFT_LEFT:case ot.SHIFT_RIGHT:case ot.CTRL_LEFT:case ot.CTRL_RIGHT:case ot.ALT_LEFT:case ot.ALT_RIGHT:return!0;default:return e.metaKey||e.ctrlKey}},at=e=>/\bF([1-9]|1[0-2])\b/i.test(e.code),lt=e=>it(e)||at(e),rt=e=>0===e.button&&!e.ctrlKey,ct=e=>{e.currentTarget===e.target&&e.preventDefault()},ut=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},dt=({isDisabled:e=!1,ref:t,handler:n})=>{s.useEffect(()=>{const s=E.coerceArray(t);if(!n||e||s.length>0&&s.findIndex(e=>null===e.current)>-1)return;const o=e=>{((e,t)=>{const s=e.target;if(s&&!ut(s).contains(s))return!1;return t.every(e=>{var t;return!(null===(t=e.current)||void 0===t?void 0:t.contains(s))})})(e,s)&&(null==n||n(e))},i=s[0],a=ut(i.current);return a?(a.addEventListener("mousedown",o,!0),()=>{a.removeEventListener("mousedown",o,!0)}):void 0},[e,n,t])},ft="_10e9xaq",At="bottom-start";const ht="_19ki64l",Et="j1zkrn",bt="_1uuoh30",St="dp7ymw",gt="zocnac",_t=()=>{};const Ft="hplqi8",pt="x2o1z5",mt="de3yeg",vt="khio7z";e.DefaultList=function({accessibleSummary:e,currentItemVariant:n,currentKey:o,data:i,itemText:a,onCurrentKeyChange:l,onItemAction:r,onLoadRange:f=st,onSelectionChange:A,searchText:h,selectedKeys:E,selectionMode:b}){const S=s.useCallback(e=>{const s=tt({data:e.data,key:e.metadata.key,metadata:e.metadata},a);return t.jsxs(c.Flex,{children:[e.selector&&e.selector(),t.jsx("div",Object.assign({class:"_1m0sjxy"},{children:t.jsx(u.HighlightText,Object.assign({matchText:h},{children:s}))}))]})},[a,h]),g=s.useMemo(()=>({all:!1,keys:null!=E?E:new Set}),[E]);return t.jsx(d.List,Object.assign({accessibleSummary:e,allowTabbableMode:!1,currentItemVariant:n,currentKey:o,data:null!=i?i:null,loadingIndicator:nt,onCurrentKeyChange:l,onItemAction:r,onLoadRange:f,onSelectionChange:A,role:"listbox",selectedKeys:g,selectionMode:b},{children:e=>S(e)}))},e.Dropdown=function({anchorRef:e,children:n,dropdownRef:o,id:i,isOpen:a,onAutoDismiss:l,onPosition:r}){var c;const[u,d]=s.useState(At);s.useEffect(()=>{a||d(At)},[a,d]);const f=s.useCallback(e=>{d(e.placement),null==r||r(e)},[r,d]),A=s.useCallback(e=>{null==l||l(e)},[l]),E=s.useCallback(e=>{if(!e.defaultPrevented&&!lt(e))switch(e.code){case ot.ESC:case ot.TAB:A(e)}},[A]);dt({isDisabled:!a,ref:[e,o],handler:A});const S={minWidth:`${null===(c=e.current)||void 0===c?void 0:c.offsetWidth}px`};return a?t.jsx(h.Layer,Object.assign({logicalParentRef:e},{children:t.jsx(b.Floating,Object.assign({anchorRef:e,sizeOptions:{isMaxHeightAdjusted:!0,maxHeightCeiling:400},ref:o,placement:u,offsetValue:{mainAxis:4,crossAxis:0},onPosition:f},{children:t.jsx("div",Object.assign({class:ft,id:i,style:S,onKeyDown:E,onMouseDown:ct},{children:n}))}))})):null},e.DropdownArrow=function({isDisabled:e=!1,onClick:n,size:o="md"}){const i=s.useCallback(e=>{e.preventDefault()},[]),{pressProps:a}=S.usePress(null!=n?n:_t,{isDisabled:e}),l=F.classNames([ht,"sm"===o?bt:Et,e?gt:St]);return t.jsx("span",Object.assign({"aria-hidden":"true",class:l,tabIndex:-1,onMouseDown:i},a,{children:t.jsx(p.SvgIcoCaretDown,{})}))},e.DropdownList=function({children:e,hasBottomGap:s=!0,isLoading:n=!1}){const o=F.classNames([Ft,pt,s&&mt,n&&vt]);return t.jsx("div",Object.assign({class:o,onMouseDown:ct},{children:e}))},e.DropdownUserAssistance=function(e){const n=s.useCallback(e=>{var t;"A"!==(null===(t=e.target)||void 0===t?void 0:t.tagName)&&e.preventDefault()},[]);return t.jsx(m.FormFieldContext.Provider,Object.assign({value:{isFocused:!0}},{children:t.jsx("div",Object.assign({class:"_18g93ys",onMouseDown:n},{children:t.jsx(v.InlineUserAssistance,Object.assign({},e))}))}))},e.EmptyResults=function(){const e=T.useTranslationBundle("@oracle/oraclejet-preact");return t.jsx("div",Object.assign({class:"sy8p0x",onMouseDown:ct},{children:e.select_noMatchesFound()}))},e.KEYS=ot,e.isBeforeDataFetch=function(e){return"atLeast"===e.sizePrecision&&0===e.totalSize},e.isControlKey=it,e.isControlOrFunctionKey=lt,e.isFunctionKey=at,e.isMobile=function(){const e=C.getClientHints().deviceType;return"phone"===e||"tablet"===e},e.isSimpleClick=rt,e.preventDefaultForCurrentTarget=ct,e.renderItemText=tt,e.useSelectCommon=function({data:e,inputRef:t,isFocused:n,onFilter:o}){const i=s.useRef(null),a=s.useRef(null),[l,r]=s.useState(!1),[c,u]=s.useState(!1),[d,f]=s.useState({rowKey:void 0}),[A,h]=s.useState(),[E,b]=s.useState(!1),[S,g]=s.useState(),[_,F]=s.useState(),p=s.useCallback(e=>{!e.defaultPrevented&&rt(e)&&(l||r(!0),setTimeout(function(){var e;null===(e=t.current)||void 0===e||e.focus()},0))},[l]),m=s.useCallback(()=>{var e;r(!l),null===(e=t.current)||void 0===e||e.focus()},[l]),v=s.useCallback(e=>{var s,n,o;if(l)switch(r(!1),null==e?void 0:e.type){case"keydown":if(e.code===ot.ESC)null===(s=t.current)||void 0===s||s.focus();break;case"mousedown":(null===(n=a.current)||void 0===n?void 0:n.contains(document.activeElement))&&(null===(o=t.current)||void 0===o||o.focus())}},[l]),T=s.useCallback(e=>{u(e.placement.startsWith("top"))},[]),U=s.useCallback(t=>{var s,n,o,i;if(l){const t=null===(s=a.current)||void 0===s?void 0:s.querySelector('[tabindex="0"]');null==t||t.focus(),void 0!==e&&void 0===d.rowKey&&f({rowKey:null===(i=null===(o=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.metadata)||void 0===i?void 0:i.key})}else r(!0);t.preventDefault()},[d,e,l]),C=s.useCallback(e=>{if(!lt(e))switch(e.code){case ot.PAGE_UP:case ot.PAGE_DOWN:return void e.preventDefault();case ot.UP:case ot.DOWN:e.preventDefault();break;case ot.ESC:l&&(r(!1),e.preventDefault(),e.stopPropagation())}},[l]),x=s.useCallback(e=>{if(!lt(e))switch(e.code){case ot.UP:case ot.DOWN:U(e)}},[U]),k=s.useCallback(e=>{var t;l||r(!0),b(!0),g(e.value);const s=null===(t=e.value)||void 0===t?void 0:t.trim();F(s),null==o||o({searchText:s})},[l,o]),N=s.useCallback(e=>{f({rowKey:e.value})},[]),y=s.useCallback(()=>{b(!1),g(""),F("")},[]);return s.useEffect(()=>{l||n||!E||y()},[l,n,E]),s.useEffect(()=>{l&&!E&&(null==o||o({searchText:void 0}))},[l,E,o]),s.useEffect(()=>{l||u(!1)},[l]),{currentRow:d,dropdownRef:a,handleDropdownArrowClick:m,handleDropdownAutoDismiss:v,handleDropdownPosition:T,handleInput:k,handleMainFieldKeyDown:C,handleMainFieldKeyUp:x,handleUpDownArrowKeys:U,isDropdownAbove:c,isDropdownOpen:l,isFocused:n||l,isUserFiltering:E,mainFieldRef:i,onCurrentKeyChange:N,onMouseDown:p,searchText:_,selectedKeys:A,setCurrentRow:f,setDropdownOpen:r,setSelectedKeys:h,stopFiltering:y,userInput:S}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=PRIVATE_SelectCommon.js.map
