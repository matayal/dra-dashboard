{"version":3,"file":"MenuItem.spec.js","sources":["../../../../src/UNSAFE_Menu/__tests__/MenuItem.spec.tsx"],"sourcesContent":["import { render, fireEvent } from '@testing-library/preact';\nimport userEvent from '@testing-library/user-event';\n\nimport { expect } from 'chai';\nimport { spy } from 'sinon';\n\nimport { MenuItem } from '../MenuItem';\nimport { getIcon, getMenuItemByRole, getLabel } from './menuTestsUtils';\n\ndescribe('Test MenuItem Component', () => {\n  it('Default MenuItem with just label renders correctly', async function () {\n    const content = render(<MenuItem label=\"MenuItem1\" />);\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n\n    const disabled = menuItem.getAttribute('disabled');\n    const tabindex = menuItem.getAttribute('tabindex');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(menuItem.dataset['ojMenuItemKey']).not.undefined;\n    expect(tabindex).to.equal('-1');\n    expect(disabled).null;\n  });\n\n  it('Disabled MenuItem renders correctly', async function () {\n    const content = render(<MenuItem label=\"MenuItem1\" isDisabled />);\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    expect(menuItem.getAttribute('aria-disabled')).equals('true');\n  });\n\n  it('MenuItem with startIcon renders correctly', async function () {\n    const content = render(\n      <MenuItem label=\"MenuItem1\" startIcon={<span class=\"startIcon\"></span>} />\n    );\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n    const startIcon = getIcon(menuItem, '.startIcon');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(startIcon).not.null;\n  });\n\n  it('MenuItem with endIcon renders correctly', async function () {\n    const content = render(<MenuItem label=\"MenuItem1\" endIcon={<span class=\"endIcon\"></span>} />);\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n    const endIcon = getIcon(menuItem, '.endIcon');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(endIcon).not.null;\n  });\n\n  it('MenuItem with startIcon and endIcon renders correctly', async function () {\n    const content = render(\n      <MenuItem\n        label=\"MenuItem1\"\n        startIcon={<span class=\"startIcon\"></span>}\n        endIcon={<span class=\"endIcon\"></span>}\n      />\n    );\n\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n    const label = getLabel(content, 'MenuItem1');\n    const startIcon = getIcon(menuItem, '.startIcon');\n    const endIcon = getIcon(menuItem, '.endIcon');\n\n    expect(menuItem).not.null;\n    expect(label).not.null;\n    expect(startIcon).not.null;\n    expect(endIcon).not.null;\n  });\n\n  it('click MenuItem', async function () {\n    const onActionDummyFunction = spy();\n    const content = render(<MenuItem label=\"MenuItem1\" onAction={onActionDummyFunction} />);\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    fireEvent.click(menuItem);\n    expect(onActionDummyFunction.calledOnce).to.be.true;\n  });\n\n  it('enter MenuItem', async function () {\n    const onActionDummyFunction = spy();\n    const content = render(<MenuItem label=\"MenuItem1\" onAction={onActionDummyFunction} />);\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    menuItem.focus();\n    userEvent.keyboard('{enter}');\n    expect(onActionDummyFunction.calledOnce).to.be.true;\n  });\n\n  it('space MenuItem', async function () {\n    const onActionDummyFunction = spy();\n    const content = render(<MenuItem label=\"MenuItem1\" onAction={onActionDummyFunction} />);\n    const menuItem = getMenuItemByRole(content, 'menuitem');\n\n    expect(menuItem).not.null;\n    menuItem.focus();\n    userEvent.keyboard('{space}');\n    expect(onActionDummyFunction.calledOnce).to.be.true;\n  });\n});\n"],"names":["describe","it","async","content","render","_jsx","MenuItem","label","menuItem","getMenuItemByRole","getLabel","disabled","getAttribute","tabindex","expect","not","null","dataset","undefined","to","equal","isDisabled","equals","startIcon","class","getIcon","endIcon","jsx","onActionDummyFunction","spy","onAction","fireEvent","click","calledOnce","be","true","focus","userEvent","keyboard"],"mappings":"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"}