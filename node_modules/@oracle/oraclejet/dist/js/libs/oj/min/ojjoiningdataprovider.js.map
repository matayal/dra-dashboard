{"version":3,"sources":["../debug/ojjoiningdataprovider.js"],"names":["define","ojMap","ojSet","ojeventtarget","Logger","Object","prototype","hasOwnProperty","call","JoiningDataProvider","[object Object]","baseDataProvider","options","_a","_b","this","_mapJoinAttributes","Map","_fks","_transform","_joinDPs","JoiningAsyncIterable","_parent","params","_asyncIterator","JoiningAsyncIterator","Symbol","asyncIterator","_baseIterator","_params","signal","aborted","reason","Promise","reject","DOMException","resolve","addEventListener","e","next","then","result","_fetchNext","baseResult","undefined","value","_joiningData","data","joinedData","FetchByKeysResults","fetchParameters","results","_FETCHPARAMETERS","_RESULTS","FetchByOffsetResults","done","_DONE","Item","metadata","_METADATA","_DATA","ItemMetadata","key","_KEY","_getJoinSpec","baseParams","attributes","_seperateBaseJoinAttributes","asyncIterable","fetchFirst","baseAttributes","keys","scope","fetchByKeys","baseResults","metaData","keyValues","i","forEach","_fetchByKeyResultsToArray","joinData","set","clientId","filterCriterion","offset","size","sortCriteria","fetchByOffset","length","resultArray","containsKeys","getTotalSize","totalSize","isEmpty","capabilityName","getCapability","initialSet","initialMap","map","joins","_joinAlias","joinInfo","foreignKeyMapping","foreignKey","foreignKeys","transform","joinedDataProvider","origAttr","iBase","attr","alias","String","name","bJoinAlias","j","has","joinAttrs","get","concat","k","fk","includes","Array","baseData","fkValues","promises","_getFKValues","joinDP","capability","implementation","warn","all","resultMetadata","resultData","_assignAliasData","fks","vals","transformParam","item","aliasData","_REFRESH","_MUTATE","_ADDEVENTLISTENER","EventTargetMixin","applyMixin"],"mappings":"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"}