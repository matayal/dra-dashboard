{"version":3,"sources":["../debug/ojcachediteratorresultsdataprovider.js"],"names":["define","oj","ojeventtarget","ojcomponentcore","Object","prototype","hasOwnProperty","call","CachedIteratorResultsDataProvider","[object Object]","dataProvider","options","_a","_b","this","CacheAsyncIterable","_parent","dataProviderAsyncIterator","params","cache","CacheAsyncIterator","Symbol","asyncIterator","_c","_cachedOffset","_needLocalRowCount","includeFilteredRowCount","_baseFetchFirstCapability","totalFilteredRowCount","size","signal","aborted","reason","Promise","reject","DOMException","resolve","addEventListener","e","_checkCachedParamsAndIterate","then","result","_getResult","getSize","undefined","isDone","getDataList","data","length","_getFinalResult","_getSharedIteratorState","fetchOffset","fetchUntilOffset","done","value","CacheAsyncIteratorYieldResult","CacheAsyncIteratorReturnResult","asyncIteratorFetchPromise","firstIteratorCachedFetchParams","cachedFetchParams","firstIteratorCachedFetchOffset","firstIteratorCachedFetchPromise","fetchPromise","_compareCachedFetchParameters","_createCachedFetchParams","next","addListResult","finalResult","_VALUE","assign","_DONE","DataCache","_lastFetchParams","createOptimizedKeyMap","initialMap","createOptimizedKeySet","initialSet","_MUTATE","event","processMutations","detail","dispatchEvent","_REFRESH","reset","getCapability","finalResults","Set","neededKeys","cacheResults","getDataByKeys","keys","forEach","key","results","get","add","containsParameters","newParams","attributes","scope","containsKeys","containsKeysResults","Map","item","set","fetchParameters","fetchByKeys","fetchByKeysResults","_DEFAULT_SIZE","offset","updatedParams","JSON","parse","stringify","startsWith","getDataByOffset","fetchByOffset","fetchFirst","_firstIteratorState","capabilityName","capability","attributeFilter","caching","filterDef","getTotalSize","isEmpty","cachedParams","compareValues","_getFilterDef","filterCriterion","sortCriteria","filter","property","_KEY","_KEYS","_DATA","_STARTINDEX","_SORT","_SORTCRITERIA","_FILTERCRITERION","_METADATA","_ITEMS","_FROM","_OFFSET","_SIZE","_FETCHPARAMETERS","_RESULTS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_FETCHFIRST","_ADDEVENTLISTENER","_FETCHATTRIBUTES","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"mappings":"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"}