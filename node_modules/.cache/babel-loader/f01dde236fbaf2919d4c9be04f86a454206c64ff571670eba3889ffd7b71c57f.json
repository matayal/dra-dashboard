{"ast":null,"code":"var _jsxFileName = \"/Users/mayanktayal/Code/git/dra-dashboard/src/Components/ViewGraph.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Graph(_ref) {\n  _s();\n  let {\n    data\n  } = _ref;\n  const containerRef = useRef(null);\n  useEffect(() => {\n    const container = d3.select(containerRef.current);\n    const width = container.node().getBoundingClientRect().width;\n    const height = container.node().getBoundingClientRect().height;\n    const colorScale = d3.scaleOrdinal().domain(data.nodes.map(node => node.group)).range(d3.schemeCategory10);\n    const sizeScale = d3.scaleLinear().domain([0, d3.max(data.nodes.map(node => node.weight))]).range([5, 20]);\n    const simulation = d3.forceSimulation(data.nodes).force(\"link\", d3.forceLink(data.links).id(d => d.id).distance(50)).force(\"charge\", d3.forceManyBody().strength(-50)).force(\"center\", d3.forceCenter(width / 2, height / 2)).on(\"tick\", () => {\n      links.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n      nodes.attr(\"cx\", d => d.x).attr(\"cy\", d => d.y);\n    });\n    const links = container.append(\"g\").selectAll(\"line\").data(data.links).join(\"line\").attr(\"stroke\", \"#ccc\").attr(\"stroke-width\", d => sizeScale(d.weight));\n    const nodes = container.append(\"g\").selectAll(\"circle\").data(data.nodes).join(\"circle\").attr(\"r\", d => sizeScale(d.weight)).attr(\"fill\", d => colorScale(d.group)).attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 1).call(drag(simulation)).on(\"mouseover\", handleMouseOver).on(\"mouseout\", handleMouseOut);\n    function drag(simulation) {\n      function dragstarted(d) {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n      function dragended(d) {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n      }\n      return d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended);\n    }\n    function handleMouseOver(d) {\n      const tooltip = container.append(\"g\").attr(\"id\", \"tooltip\").attr(\"transform\", `translate(${d.x},${d.y - 20})`);\n      const rect = tooltip.append(\"rect\").attr(\"width\", 100).attr(\"height\", 20).attr(\"fill\", \"white\").attr(\"stroke\", \"black\");\n      const text = tooltip.append(\"text\").text(d.name).attr(\"x\", 5).attr(\"y\", 15);\n      tooltip.raise();\n    }\n    function handleMouseOut(d) {\n      container.select(\"#tooltip\").remove();\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: containerRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 10\n  }, this);\n}\n_s(Graph, \"8puyVO4ts1RhCfXUmci3vLI3Njw=\");\n_c = Graph;\nexport default Graph;\nvar _c;\n$RefreshReg$(_c, \"Graph\");","map":{"version":3,"names":["React","useRef","useEffect","d3","jsxDEV","_jsxDEV","Graph","_ref","_s","data","containerRef","container","select","current","width","node","getBoundingClientRect","height","colorScale","scaleOrdinal","domain","nodes","map","group","range","schemeCategory10","sizeScale","scaleLinear","max","weight","simulation","forceSimulation","force","forceLink","links","id","d","distance","forceManyBody","strength","forceCenter","on","attr","source","x","y","target","append","selectAll","join","call","drag","handleMouseOver","handleMouseOut","dragstarted","event","active","alphaTarget","restart","fx","fy","dragged","dragended","tooltip","rect","text","name","raise","remove","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mayanktayal/Code/git/dra-dashboard/src/Components/ViewGraph.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\n\nfunction Graph({ data }) {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    const container = d3.select(containerRef.current);\n\n    const width = container.node().getBoundingClientRect().width;\n    const height = container.node().getBoundingClientRect().height;\n\n    const colorScale = d3\n      .scaleOrdinal()\n      .domain(data.nodes.map((node) => node.group))\n      .range(d3.schemeCategory10);\n\n    const sizeScale = d3\n      .scaleLinear()\n      .domain([0, d3.max(data.nodes.map((node) => node.weight))])\n      .range([5, 20]);\n\n    const simulation = d3\n      .forceSimulation(data.nodes)\n      .force(\n        \"link\",\n        d3\n          .forceLink(data.links)\n          .id((d) => d.id)\n          .distance(50)\n      )\n      .force(\"charge\", d3.forceManyBody().strength(-50))\n      .force(\"center\", d3.forceCenter(width / 2, height / 2))\n      .on(\"tick\", () => {\n        links\n          .attr(\"x1\", (d) => d.source.x)\n          .attr(\"y1\", (d) => d.source.y)\n          .attr(\"x2\", (d) => d.target.x)\n          .attr(\"y2\", (d) => d.target.y);\n        nodes.attr(\"cx\", (d) => d.x).attr(\"cy\", (d) => d.y);\n      });\n\n    const links = container\n      .append(\"g\")\n      .selectAll(\"line\")\n      .data(data.links)\n      .join(\"line\")\n      .attr(\"stroke\", \"#ccc\")\n      .attr(\"stroke-width\", (d) => sizeScale(d.weight));\n\n    const nodes = container\n      .append(\"g\")\n      .selectAll(\"circle\")\n      .data(data.nodes)\n      .join(\"circle\")\n      .attr(\"r\", (d) => sizeScale(d.weight))\n      .attr(\"fill\", (d) => colorScale(d.group))\n      .attr(\"stroke\", \"#fff\")\n      .attr(\"stroke-width\", 1)\n      .call(drag(simulation))\n      .on(\"mouseover\", handleMouseOver)\n      .on(\"mouseout\", handleMouseOut);\n\n    function drag(simulation) {\n      function dragstarted(d) {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n\n      function dragended(d) {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n      }\n\n      return d3\n        .drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended);\n    }\n\n    function handleMouseOver(d) {\n      const tooltip = container\n        .append(\"g\")\n        .attr(\"id\", \"tooltip\")\n        .attr(\"transform\", `translate(${d.x},${d.y - 20})`);\n\n      const rect = tooltip\n        .append(\"rect\")\n        .attr(\"width\", 100)\n        .attr(\"height\", 20)\n        .attr(\"fill\", \"white\")\n        .attr(\"stroke\", \"black\");\n\n      const text = tooltip\n        .append(\"text\")\n        .text(d.name)\n        .attr(\"x\", 5)\n        .attr(\"y\", 15);\n\n      tooltip.raise();\n    }\n\n    function handleMouseOut(d) {\n      container.select(\"#tooltip\").remove();\n    }\n  }, [data]);\n\n  return <svg ref={containerRef} />;\n}\n\nexport default Graph;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}